<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-desktop-shell-webgpu-renderer-replay-design-issue-778" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Desktop Shell + WebGPU Renderer + Replay (Issue 778) | Idle Engine Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hansjm10.github.io/Idle-Game-Engine/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hansjm10.github.io/Idle-Game-Engine/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hansjm10.github.io/Idle-Game-Engine/desktop-shell-webgpu-renderer-replay-design-issue-778"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Desktop Shell + WebGPU Renderer + Replay (Issue 778) | Idle Engine Docs"><meta data-rh="true" name="description" content="Document Control"><meta data-rh="true" property="og:description" content="Document Control"><link data-rh="true" rel="icon" href="/Idle-Game-Engine/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hansjm10.github.io/Idle-Game-Engine/desktop-shell-webgpu-renderer-replay-design-issue-778"><link data-rh="true" rel="alternate" href="https://hansjm10.github.io/Idle-Game-Engine/desktop-shell-webgpu-renderer-replay-design-issue-778" hreflang="en"><link data-rh="true" rel="alternate" href="https://hansjm10.github.io/Idle-Game-Engine/desktop-shell-webgpu-renderer-replay-design-issue-778" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Desktop Shell + WebGPU Renderer + Replay (Issue 778)","item":"https://hansjm10.github.io/Idle-Game-Engine/desktop-shell-webgpu-renderer-replay-design-issue-778"}]}</script><link rel="stylesheet" href="/Idle-Game-Engine/assets/css/styles.ddf7989c.css">
<script src="/Idle-Game-Engine/assets/js/runtime~main.9824e02d.js" defer="defer"></script>
<script src="/Idle-Game-Engine/assets/js/main.9fc2d0e7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Idle-Game-Engine/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_li4T" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Idle-Game-Engine/"><div class="navbar__logo"><img src="/Idle-Game-Engine/img/logo.svg" alt="Idle Engine Logo" class="themedComponent_wqtB themedComponent--light_vaEm"><img src="/Idle-Game-Engine/img/logo.svg" alt="Idle Engine Logo" class="themedComponent_wqtB themedComponent--dark_axH8"></div><b class="navbar__title text--truncate">Idle Engine</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Idle-Game-Engine/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/hansjm10/Idle-Game-Engine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_cYRj"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle__Exw colorModeToggle_Lslw"><button class="clean-btn toggleButton_AMBK toggleButtonDisabled_p4Bd" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_uZx1 lightToggleIcon_p2sk"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_uZx1 darkToggleIcon_B2qX"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_uZx1 systemToggleIcon_PWgn"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_RKai"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_nqaE"><div class="docsWrapper_CSLE"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sOWX" type="button"></button><div class="docRoot_qxtV"><aside class="theme-doc-sidebar-container docSidebarContainer_Xlvo"><div class="sidebarViewport_tjEA"><div class="sidebar_ubOv"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_CfkH"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_ziOL menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/Idle-Game-Engine/"><span title="Getting Started" class="categoryLinkLabel_ebxo">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/"><span title="Overview" class="linkLabel_KsAJ">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/contributor-handbook"><span title="Contributor Handbook" class="linkLabel_KsAJ">Contributor Handbook</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/role-index"><span title="Role Index" class="linkLabel_KsAJ">Role Index</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/design-document-template"><span title="Design Document Template" class="linkLabel_KsAJ">Design Document Template</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_ziOL menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Idle-Game-Engine/idle-engine-design"><span title="Core Runtime" class="categoryLinkLabel_ebxo">Core Runtime</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/idle-engine-design"><span title="Idle Engine Design Document" class="linkLabel_KsAJ">Idle Engine Design Document</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/runtime-step-lifecycle"><span title="Runtime Step Lifecycle Alignment" class="linkLabel_KsAJ">Runtime Step Lifecycle Alignment</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/runtime-command-queue-design"><span title="Runtime Command Queue Design" class="linkLabel_KsAJ">Runtime Command Queue Design</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/controls-contract-design-issue-705"><span title="Controls Contract Design (Issue 705)" class="linkLabel_KsAJ">Controls Contract Design (Issue 705)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Idle-Game-Engine/desktop-shell-webgpu-renderer-replay-design-issue-778"><span title="Desktop Shell + WebGPU Renderer + Replay (Issue 778)" class="linkLabel_KsAJ">Desktop Shell + WebGPU Renderer + Replay (Issue 778)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/runtime-event-pubsub-design"><span title="Runtime Event Pub/Sub Design" class="linkLabel_KsAJ">Runtime Event Pub/Sub Design</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/runtime-event-bus-decisions"><span title="Runtime Event Bus Follow-up Decisions" class="linkLabel_KsAJ">Runtime Event Bus Follow-up Decisions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/runtime-event-manifest-authoring"><span title="Runtime Event Manifest Authoring" class="linkLabel_KsAJ">Runtime Event Manifest Authoring</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/tick-accumulator-coverage-design"><span title="Tick Accumulator Edge Case Coverage" class="linkLabel_KsAJ">Tick Accumulator Edge Case Coverage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/resource-state-storage-design"><span title="Resource State Storage Design" class="linkLabel_KsAJ">Resource State Storage Design</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Idle-Game-Engine/diagnostic-timeline-design"><span title="Diagnostic Timeline Design Document" class="linkLabel_KsAJ">Diagnostic Timeline Design Document</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ziOL menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Idle-Game-Engine/content-dsl-schema-design"><span title="Content Pipeline" class="categoryLinkLabel_ebxo">Content Pipeline</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ziOL menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Idle-Game-Engine/coverage/"><span title="Diagnostics &amp; Quality" class="categoryLinkLabel_ebxo">Diagnostics &amp; Quality</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ziOL menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Idle-Game-Engine/implementation-plan"><span title="Operations &amp; Process" class="categoryLinkLabel_ebxo">Operations &amp; Process</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_tfRv"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_hyci"><div class="docItemContainer_tcAC"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_bxbs" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Idle-Game-Engine/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_p1A9"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Runtime</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Desktop Shell + WebGPU Renderer + Replay (Issue 778)</span></li></ul></nav><div class="tocCollapsible_WMbj theme-doc-toc-mobile tocMobile_wI3e"><button type="button" class="clean-btn tocCollapsibleButton_rjEa">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Desktop Shell (Electron) + WebGPU Renderer (GPU UI) + Deterministic Replay (Issue 778)</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="document-control">Document Control<a href="#document-control" class="hash-link" aria-label="Direct link to Document Control" title="Direct link to Document Control" translate="no">​</a></h2>
<ul>
<li class=""><strong>Title</strong>: Introduce a first-party Electron desktop shell, WebGPU renderer, and deterministic visual replay</li>
<li class=""><strong>Authors</strong>: Codex (AI)</li>
<li class=""><strong>Reviewers</strong>: @hansjm10 (Runtime Core), TODO (Rendering), TODO (Tools/Release)</li>
<li class=""><strong>Status</strong>: Draft</li>
<li class=""><strong>Last Updated</strong>: 2026-01-16</li>
<li class=""><strong>Related Issues</strong>: <a href="https://github.com/hansjm10/Idle-Game-Engine/issues/778" target="_blank" rel="noopener noreferrer" class="">https://github.com/hansjm10/Idle-Game-Engine/issues/778</a></li>
<li class=""><strong>Execution Mode</strong>: AI-led</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="1-summary">1. Summary<a href="#1-summary" class="hash-link" aria-label="Direct link to 1. Summary" title="Direct link to 1. Summary" translate="no">​</a></h2>
<p>This proposal adds a first-party desktop host (“shell”) and a first-party 2D renderer to the Idle Engine monorepo while preserving the existing deterministic, platform-agnostic simulation core (<code>packages/core</code>). The shell is Electron-based and is responsible for time, input, persistence, and asset IO. Rendering is performed via a custom WebGPU backend (plus an optional debug backend) that consumes data-only frame descriptions. A deterministic record/replay system ties everything together by enabling authoritative sim replays (commands + initial state + RNG) and optional “visual replays” (ViewModel and/or RenderCommandBuffer per frame) to support debugging, regression testing, and inspection tooling.</p>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="2-context--problem-statement">2. Context &amp; Problem Statement<a href="#2-context--problem-statement" class="hash-link" aria-label="Direct link to 2. Context &amp; Problem Statement" title="Direct link to 2. Context &amp; Problem Statement" translate="no">​</a></h2>
<ul>
<li class=""><strong>Background</strong>:<!-- -->
<ul>
<li class="">The repository currently prioritizes a deterministic, headless runtime (<code>packages/core</code>) that can be hosted by downstream applications; there is no first-party GPU presentation layer (<code>docs/idle-engine-design.md</code>).</li>
<li class="">The core already includes deterministic primitives relevant to replay and host integration:<!-- -->
<ul>
<li class="">Fixed-step runtime loop (<code>packages/core/src/internals.browser.ts</code>).</li>
<li class="">Deterministic command queue semantics (<code>docs/runtime-command-queue-design.md</code>).</li>
<li class="">A command recorder/replayer utility (<code>packages/core/src/command-recorder.ts</code>).</li>
<li class="">Efficient publish transports for typed-array state export (<code>packages/core/src/resource-publish-transport.ts</code>).</li>
<li class="">A controls contract intended for shell integrations (<code>packages/controls/src/index.ts</code>).</li>
</ul>
</li>
</ul>
</li>
<li class=""><strong>Problem</strong>:<!-- -->
<ul>
<li class="">There is no canonical desktop host that demonstrates end-to-end “engine + shell + renderer” integration, so each downstream app must rebuild time scheduling, persistence, input mapping, and debugging tools independently.</li>
<li class="">There is no renderer contract or renderer implementation that can support sprite-heavy 2D scenes and GPU-rendered UI/HUD without DOM/CSS.</li>
<li class="">Visual debugging is currently limited: while the sim is deterministic and replayable, there is no standardized mechanism to record the derived presentation layer (ViewModel / draw list) and replay it for diagnosing visual regressions.</li>
</ul>
</li>
<li class=""><strong>Forces</strong>:<!-- -->
<ul>
<li class="">Desktop target (Windows/macOS/Linux) with stable GPU behavior and predictable packaging.</li>
<li class="">Maintain determinism: authoritative sim output must be reproducible; visual layers must be deterministically derived from sim state (or fully captured).</li>
<li class="">Correctness/control/maintainability over rapid shipping: prefer explicit contracts, stable types, and testable pure transforms.</li>
<li class="">Avoid DOM/CSS dependency for UI; all in-game UI/HUD is GPU-rendered.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="3-goals--non-goals">3. Goals &amp; Non-Goals<a href="#3-goals--non-goals" class="hash-link" aria-label="Direct link to 3. Goals &amp; Non-Goals" title="Direct link to 3. Goals &amp; Non-Goals" translate="no">​</a></h2>
<ul>
<li class=""><strong>Goals</strong>:<!-- -->
<ol>
<li class="">Add a first-party desktop shell package that can load a content pack, run the sim deterministically, and present a GPU-rendered game + HUD.</li>
<li class="">Define a stable “core ↔ shell ↔ renderer” contract based on data-only frame descriptions (ViewModel and/or RenderCommandBuffer).</li>
<li class="">Implement a WebGPU 2D renderer capable of:<!-- -->
<ul>
<li class="">sprite rendering (batched quads + atlases),</li>
<li class="">basic 2D scene features (camera, layers, culling),</li>
<li class="">GPU UI primitives (rects, images, clipping),</li>
<li class="">text rendering (bitmap or MSDF pipeline).</li>
</ul>
</li>
<li class="">Add deterministic record/replay that can reproduce:<!-- -->
<ul>
<li class="">authoritative sim evolution (initial state + command stream + RNG),</li>
<li class="">optional per-frame ViewModel and/or RenderCommandBuffer (for visual debugging).</li>
</ul>
</li>
<li class="">Provide a debug renderer option (Canvas2D or minimal WebGPU) to validate contracts and diagnostics early.</li>
</ol>
</li>
<li class=""><strong>Non-Goals</strong> (initially):<!-- -->
<ul>
<li class="">3D rendering.</li>
<li class="">DOM/CSS-based UI.</li>
<li class="">Multiplayer/network synchronization (the design should not block it; it is not delivered here).</li>
<li class="">Pixel-perfect identical output across different GPUs/driver stacks (goal is deterministic <em>inputs and command buffers</em>, not necessarily identical rasterization).</li>
</ul>
</li>
<li class=""><strong>Acceptance Criteria (initial implementation phase)</strong>:<!-- -->
<ul>
<li class="">Desktop shell runs the sim with fixed-step updates and renders frames via a renderer interface.</li>
<li class="">Renderer draws sprites + a minimal GPU UI (text + panels) without DOM/CSS.</li>
<li class="">Replay reproduces sim state and produces identical RenderCommandBuffer hashes for a given replay on the same build/content.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="4-stakeholders-agents--impacted-surfaces">4. Stakeholders, Agents &amp; Impacted Surfaces<a href="#4-stakeholders-agents--impacted-surfaces" class="hash-link" aria-label="Direct link to 4. Stakeholders, Agents &amp; Impacted Surfaces" title="Direct link to 4. Stakeholders, Agents &amp; Impacted Surfaces" translate="no">​</a></h2>
<ul>
<li class=""><strong>Primary Stakeholders</strong>:<!-- -->
<ul>
<li class="">Runtime Core maintainers (determinism, contracts, replay invariants).</li>
<li class="">Shell/UX maintainers (desktop app behavior, input, persistence).</li>
<li class="">Rendering maintainers (WebGPU backend, debug backend, performance).</li>
<li class="">Tooling maintainers (replay files, inspectors, CI harnesses).</li>
</ul>
</li>
<li class=""><strong>Agent Roles</strong>:</li>
</ul>
<table><thead><tr><th>Agent</th><th>Responsibilities</th></tr></thead><tbody><tr><td>Desktop Shell Agent</td><td>Electron scaffolding, app lifecycle, persistence, content + asset IO, wiring sim ↔ renderer.</td></tr><tr><td>Renderer Contract Agent</td><td>Define ViewModel / RenderCommandBuffer types and deterministic compilation rules.</td></tr><tr><td>WebGPU Renderer Agent</td><td>WebGPU device setup, pipelines, batching, atlases, text, perf instrumentation.</td></tr><tr><td>Debug Renderer Agent</td><td>Canvas2D/minimal backend for early contract validation and test harnesses.</td></tr><tr><td>Replay &amp; Tooling Agent</td><td>Replay container format, record/replay runner, hashing/diffing, UI/CLI hooks.</td></tr><tr><td>CI/Build Agent</td><td>Workspace wiring, packaging scripts, platform CI notes, lint/test configuration.</td></tr><tr><td>Docs Agent</td><td>Keep this doc and follow-up subsystem docs aligned with implementation.</td></tr></tbody></table>
<ul>
<li class=""><strong>Affected Packages/Services</strong>:<!-- -->
<ul>
<li class="">Existing: <code>packages/core</code>, <code>packages/controls</code>, <code>packages/content-schema</code>, <code>packages/docs</code>, <code>docs/</code>, <code>tools/runtime-sim</code>.</li>
<li class="">New (proposed): <code>packages/shell-desktop</code>, <code>packages/renderer-webgpu</code>, <code>packages/renderer-debug</code>, plus a small “boundary” module for shared rendering types (see §6.2).</li>
</ul>
</li>
<li class=""><strong>Compatibility Considerations</strong>:<!-- -->
<ul>
<li class="">Keep <code>packages/core</code> deterministic and platform-agnostic; avoid coupling core to Electron/WebGPU runtime specifics.</li>
<li class="">Version all replay formats; fail fast on mismatched engine version, content hash, or asset manifest hash.</li>
<li class="">Ensure the renderer contract supports evolution (schema versioning, optional fields) without breaking existing replay files.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="5-current-state">5. Current State<a href="#5-current-state" class="hash-link" aria-label="Direct link to 5. Current State" title="Direct link to 5. Current State" translate="no">​</a></h2>
<ul>
<li class=""><strong>Headless runtime exists</strong>: <code>IdleEngineRuntime</code> implements a deterministic fixed-step loop with an accumulator (<code>packages/core/src/internals.browser.ts</code>) and deterministic command step stamping (<code>docs/runtime-command-queue-design.md</code>).</li>
<li class=""><strong>Replay primitives exist</strong>: <code>CommandRecorder</code> can record commands + start state + runtime event frames and replay them (<code>packages/core/src/command-recorder.ts</code>), but there is no standardized file/container format and no visual replay.</li>
<li class=""><strong>Shell integration examples exist (non-graphical)</strong>:<!-- -->
<ul>
<li class=""><code>tools/runtime-sim</code> provides headless simulation/benchmark tooling and demonstrates host-driven runtime stepping.</li>
</ul>
</li>
<li class=""><strong>Rendering contract does not exist</strong>: there is no ViewModel / RenderCommandBuffer schema, no renderer implementation, and no asset pipeline for 2D scenes/UI in this repo.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="6-proposed-solution">6. Proposed Solution<a href="#6-proposed-solution" class="hash-link" aria-label="Direct link to 6. Proposed Solution" title="Direct link to 6. Proposed Solution" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_EdDC" id="61-architecture-overview">6.1 Architecture Overview<a href="#61-architecture-overview" class="hash-link" aria-label="Direct link to 6.1 Architecture Overview" title="Direct link to 6.1 Architecture Overview" translate="no">​</a></h3>
<ul>
<li class=""><strong>Narrative</strong>:<!-- -->
<ul>
<li class="">The deterministic sim stays in <code>packages/core</code> and produces authoritative state.</li>
<li class="">A shell hosts the sim, collects input, loads content packs, performs IO, and derives presentation data.</li>
<li class="">A renderer consumes a data-only frame description and performs GPU rendering (no sim access, no IO).</li>
<li class="">Replay is treated as a first-class workflow: record authoritative inputs and deterministic derived outputs, then replay them for debugging.</li>
</ul>
</li>
<li class=""><strong>Diagram</strong> (desktop, recommended “isolated sim” default):</li>
</ul>
<div class="language-text codeBlockContainer_b5Q5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_yI8N"><pre tabindex="0" class="prism-code language-text codeBlock_DEW9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eNcQ"><span class="token-line" style="color:#393A34"><span class="token plain">Electron Main Process</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - app lifecycle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - filesystem IO (saves, content packs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - native dialogs, window mgmt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | IPC (typed messages; no arbitrary eval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Electron Renderer Process (Chromium)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - input capture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - renderer-webgpu (GPU)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - HUD/UI system (GPU-rendered)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - replay UI (dev mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | postMessage (structured clone / typed arrays)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sim Worker (Web Worker or WorkerThread)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - @idle-engine/core deterministic runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - command queue + systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - (pure) selectViewModel(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - emits frames + events</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_EdDC" id="62-detailed-design">6.2 Detailed Design<a href="#62-detailed-design" class="hash-link" aria-label="Direct link to 6.2 Detailed Design" title="Direct link to 6.2 Detailed Design" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="621-package-layout">6.2.1 Package Layout<a href="#621-package-layout" class="hash-link" aria-label="Direct link to 6.2.1 Package Layout" title="Direct link to 6.2.1 Package Layout" translate="no">​</a></h4>
<p>Proposed packages (additive to the workspace):</p>
<ul>
<li class=""><code>packages/shell-desktop</code> (<code>@idle-engine/shell-desktop</code>): Electron desktop shell.</li>
<li class=""><code>packages/renderer-webgpu</code> (<code>@idle-engine/renderer-webgpu</code>): WebGPU backend implementation.</li>
<li class=""><code>packages/renderer-debug</code> (<code>@idle-engine/renderer-debug</code>, optional): Canvas2D/minimal backend.</li>
<li class=""><code>packages/renderer-contract</code> (<code>@idle-engine/renderer-contract</code>): shared, runtime-agnostic types for ViewModel and RenderCommandBuffer.<!-- -->
<ul>
<li class="">Rationale: keep the renderer contract stable and avoid depending on either <code>@idle-engine/core</code> or WebGPU at runtime.</li>
<li class="">This package should be types-first and pure-data only (no IO, no DOM, no WebGPU).</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="622-core--shell--renderer-boundaries">6.2.2 Core ↔ Shell ↔ Renderer Boundaries<a href="#622-core--shell--renderer-boundaries" class="hash-link" aria-label="Direct link to 6.2.2 Core ↔ Shell ↔ Renderer Boundaries" title="Direct link to 6.2.2 Core ↔ Shell ↔ Renderer Boundaries" translate="no">​</a></h4>
<p><strong>Core responsibilities (unchanged constraints)</strong>:</p>
<ul>
<li class="">Deterministic state transitions: <code>state&#x27; = reduce(state, step, commands)</code>.</li>
<li class="">Deterministic time: simulation time derived from <code>(step * stepSizeMs)</code>, not wall clock.</li>
<li class="">Emit runtime events as data (<code>EventBus</code>) for side effects, diagnostics, and tooling.</li>
<li class="">Provide stable, pure selectors for “presentation derivation” <em>when feasible</em>.<!-- -->
<ul>
<li class="">For engine-generic HUD (resources, generators, upgrades), selectors can live in core.</li>
<li class="">For game-specific scene composition, selectors can live in a game module within the shell until content schemas mature.</li>
</ul>
</li>
</ul>
<p><strong>Shell responsibilities</strong>:</p>
<ul>
<li class="">Time source and fixed-step scheduling (<code>IdleEngineRuntime.tick(deltaMs)</code>), including background throttling behavior and max-step budgets (note: <code>tick(deltaMs)</code> may advance 0..N sim steps; the authoritative counter is <code>step</code>).</li>
<li class="">Input capture → <code>@idle-engine/controls</code> mapping → runtime commands (player priority).</li>
<li class="">Persistence (settings/saves), filesystem IO, content pack discovery/loading, and dev-mode hot reload.</li>
<li class="">Asset management: load/validate assets and provide stable asset IDs + hashes to the renderer.</li>
<li class="">Record/replay orchestration:<!-- -->
<ul>
<li class="">record: capture authoritative sim inputs + optional derived outputs,</li>
<li class="">replay: drive sim and/or renderer from recorded streams.</li>
</ul>
</li>
</ul>
<p><strong>Renderer responsibilities</strong>:</p>
<ul>
<li class="">Consume ViewModel or RenderCommandBuffer and render it.</li>
<li class="">Own GPU resources (textures, atlases, pipelines, buffers, glyph caches).</li>
<li class="">Provide debug overlays (bounds, overdraw, missing assets) without altering sim state.</li>
<li class="">Avoid IO and avoid any direct access to sim state (only data-only frame inputs).</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="623-frame-description-two-layer-model">6.2.3 Frame Description: Two-Layer Model<a href="#623-frame-description-two-layer-model" class="hash-link" aria-label="Direct link to 6.2.3 Frame Description: Two-Layer Model" title="Direct link to 6.2.3 Frame Description: Two-Layer Model" translate="no">​</a></h4>
<p>Adopt a two-layer approach, matching Issue 778:</p>
<ol>
<li class=""><strong>ViewModel</strong>: semantic “what should be shown” (UI widgets, sprites, meters, labels).</li>
<li class=""><strong>RenderCommandBuffer (RCB)</strong>: explicit “how to draw” (pass, pipeline/material, quads, scissor, text runs).</li>
</ol>
<p>Key requirements:</p>
<ul>
<li class="">The compilation step <code>ViewModel → RenderCommandBuffer</code> is deterministic:<!-- -->
<ul>
<li class="">stable ordering rules (no reliance on insertion order),</li>
<li class="">explicit sort keys,</li>
<li class="">no iteration-order hazards (<code>Map</code>/<code>Set</code> and object key enumeration are forbidden in hashed payloads; represent dictionaries as <code>[{ key, value }]</code> arrays sorted by <code>key</code>).</li>
</ul>
</li>
<li class=""><code>sortKey</code> is a <code>uint64</code> with an explicitly defined encoding (avoid JS numbers &gt; <code>2^53 - 1</code>):<!-- -->
<ul>
<li class="">recommended in-memory representation: <code>{ sortKeyHi: number; sortKeyLo: number }</code> where both are <code>uint32</code>,</li>
<li class="">ordering rule: ascending <code>(sortKeyHi, sortKeyLo)</code>, then a stable tie-breaker (e.g., <code>drawId</code>).</li>
</ul>
</li>
<li class="">Floats are canonicalized at the compile boundary so visual replay hashes are stable:<!-- -->
<ul>
<li class="">reject <code>NaN</code>, <code>Infinity</code>, and <code>-Infinity</code>,</li>
<li class="">normalize <code>-0</code> to <code>0</code>,</li>
<li class="">quantize world-space floats into fixed-point integers for the RCB (default: <code>1/256</code> world units), and keep UI-space coordinates as integers.</li>
</ul>
</li>
<li class="">Hashing is explicitly defined for replay validation and golden tests:<!-- -->
<ul>
<li class=""><code>hashViewModel</code>/<code>hashRCB</code> = <code>SHA-256(canonicalEncode(payload))</code>,</li>
<li class="">canonical encoding must have stable key ordering and stable numeric formatting (if JSON is used, follow RFC 8785 JCS plus the numeric constraints above).</li>
</ul>
</li>
<li class="">Both ViewModel and RCB are versioned for evolution and replay compatibility.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="624-coordinate-systems--timing">6.2.4 Coordinate Systems &amp; Timing<a href="#624-coordinate-systems--timing" class="hash-link" aria-label="Direct link to 6.2.4 Coordinate Systems &amp; Timing" title="Direct link to 6.2.4 Coordinate Systems &amp; Timing" translate="no">​</a></h4>
<p>Define explicit coordinate spaces up front to prevent later churn:</p>
<ul>
<li class=""><strong>Simulation time</strong>: <code>simTimeMs = step * stepSizeMs</code> (authoritative).</li>
<li class=""><strong>World space</strong>: float world units in the ViewModel (camera-controlled). The RCB uses fixed-point integer coordinates (default quantization: <code>1/256</code> world units) so hashing and replay validation are stable.</li>
<li class=""><strong>UI space</strong>: logical pixels with integer coordinates; apply devicePixelRatio scaling at renderer boundary.</li>
<li class=""><strong>Render frame cadence</strong>:<!-- -->
<ul>
<li class="">Sim runs at fixed step (e.g., 60 Hz or 10 Hz depending on game).</li>
<li class="">Renderer renders at vsync; optionally interpolates between steps for smoother camera motion, but interpolation inputs must derive from deterministic sim time (or be recorded).</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="625-renderer-contract-high-level-shape">6.2.5 Renderer Contract (High-Level Shape)<a href="#625-renderer-contract-high-level-shape" class="hash-link" aria-label="Direct link to 6.2.5 Renderer Contract (High-Level Shape)" title="Direct link to 6.2.5 Renderer Contract (High-Level Shape)" translate="no">​</a></h4>
<p>The contract package defines (at minimum):</p>
<ul>
<li class=""><code>AssetId</code> and <code>AssetManifest</code> (fonts, images, sprite sheets, shaders) with content hashes.</li>
<li class=""><code>FrameHeader</code>:<!-- -->
<ul>
<li class=""><code>{ step, simTimeMs, renderFrame?, contentHash, schemaVersion }</code> where <code>step</code> is the authoritative sim step and <code>renderFrame</code> is a monotonic counter for presented frames (optional when recording per-step ViewModels only).</li>
</ul>
</li>
<li class=""><code>ViewModel</code>:<!-- -->
<ul>
<li class=""><code>frame</code>: <code>FrameHeader</code></li>
<li class=""><code>scene</code>: camera + sprite instances + optional tilemap/particle descriptors</li>
<li class=""><code>ui</code>: a small set of GPU-friendly primitives (rect, image, text, meter/progress bar), plus layout metadata</li>
</ul>
</li>
<li class=""><code>RenderCommandBuffer</code>:<!-- -->
<ul>
<li class=""><code>frame</code>: <code>FrameHeader</code></li>
<li class=""><code>passes[]</code>: e.g., <code>world</code>, <code>ui</code></li>
<li class=""><code>draws[]</code> (or pass-scoped draws): each draw has a stable <code>sortKey</code> and references materials/geometry</li>
<li class="">optional <code>debug</code> channels (bounds, missing assets, perf markers)</li>
</ul>
</li>
</ul>
<p>Design guardrail: the renderer contract must remain “data only”, serializable, and amenable to hashing/diffing for replay validation.</p>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="626-webgpu-renderer-capabilities-roadmap">6.2.6 WebGPU Renderer (Capabilities Roadmap)<a href="#626-webgpu-renderer-capabilities-roadmap" class="hash-link" aria-label="Direct link to 6.2.6 WebGPU Renderer (Capabilities Roadmap)" title="Direct link to 6.2.6 WebGPU Renderer (Capabilities Roadmap)" translate="no">​</a></h4>
<p>The WebGPU backend is split into milestones (initially minimal, growing over time):</p>
<ol>
<li class=""><strong>Scaffold</strong>: device init + swapchain + clear screen; integrate with shell window resize.</li>
<li class=""><strong>Sprites</strong>: texture loading, atlas, instanced quad batching, camera transforms, alpha blending.</li>
<li class=""><strong>GPU UI primitives</strong>: rects, images, 9-slice (optional), scissor/clipping, transforms.</li>
<li class=""><strong>Text</strong>: bitmap or MSDF glyph atlas + deterministic layout strategy (see Open Questions).</li>
<li class=""><strong>Scene features</strong>: tilemaps, particles, animation tracks, culling.</li>
<li class=""><strong>Tooling</strong>: perf HUD, frame capture, replay stepping UI, debug overlays.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="627-deterministic-recordreplay-sim--visual">6.2.7 Deterministic Record/Replay (Sim + Visual)<a href="#627-deterministic-recordreplay-sim--visual" class="hash-link" aria-label="Direct link to 6.2.7 Deterministic Record/Replay (Sim + Visual)" title="Direct link to 6.2.7 Deterministic Record/Replay (Sim + Visual)" translate="no">​</a></h4>
<p>Provide two complementary replay products:</p>
<p><strong>A) Sim Replay (authoritative)</strong></p>
<ul>
<li class="">Purpose: reproduce state evolution for debugging/verification; foundation for offline tooling.</li>
<li class="">Inputs: content identity + initial state snapshot + command stream + RNG seed/state.</li>
<li class="">Recommended baseline implementation: build on <code>CommandRecorder</code> (<code>packages/core/src/command-recorder.ts</code>) and state snapshot tooling (<code>docs/state-synchronization-protocol-design.md</code>).</li>
</ul>
<p><strong>B) Visual Replay (debugging)</strong></p>
<ul>
<li class="">Purpose: reproduce and inspect visuals without rerunning sim; validate ViewModel/RCB determinism.</li>
<li class="">Recorded data (configurable):<!-- -->
<ul>
<li class="">per-step ViewModel (after each sim step),</li>
<li class="">and/or per-render-frame RenderCommandBuffer (post-compile).</li>
</ul>
</li>
<li class="">Validation: during a “combined replay”, run sim replay and compare computed ViewModel/RCB hashes against recorded frames. Mismatches fail fast and include a diffable summary.</li>
</ul>
<p><strong>Replay container format (high-level)</strong></p>
<ul>
<li class="">Use a versioned container with explicit headers, designed for large frame streams:<!-- -->
<ul>
<li class=""><code>header</code>: engine version, platform, schema versions, stepSizeMs, capture metadata.</li>
<li class=""><code>content</code>: content pack ID/version + content hash; fail on mismatch.</li>
<li class=""><code>assets</code>: asset manifest hash + per-asset digests; fail on mismatch unless explicitly allowed.</li>
<li class=""><code>sim</code>: command log (and optionally runtime event frames).</li>
<li class=""><code>frames</code>: chunked ViewModel/RCB frames; include per-frame hashes for quick validation.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_EdDC" id="628-asset-determinism--atlas-packing">6.2.8 Asset Determinism &amp; Atlas Packing<a href="#628-asset-determinism--atlas-packing" class="hash-link" aria-label="Direct link to 6.2.8 Asset Determinism &amp; Atlas Packing" title="Direct link to 6.2.8 Asset Determinism &amp; Atlas Packing" translate="no">​</a></h4>
<p>To keep visual replays stable:</p>
<ul>
<li class="">Asset IDs are stable and come from manifests (not file paths).</li>
<li class="">Atlas packing must be deterministic:<!-- -->
<ul>
<li class="">stable input ordering (sort by asset ID),</li>
<li class="">deterministic packing algorithm and tie-breaking,</li>
<li class="">record the atlas layout hash in replay headers and optionally record the layout itself.</li>
</ul>
</li>
<li class="">Fail-fast behavior:<!-- -->
<ul>
<li class="">mismatched content hash → abort replay (authoritative sim mismatch),</li>
<li class="">mismatched asset manifest hash → abort visual replay (render mapping mismatch), unless replay is “logic-only”.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_EdDC" id="63-operational-considerations">6.3 Operational Considerations<a href="#63-operational-considerations" class="hash-link" aria-label="Direct link to 6.3 Operational Considerations" title="Direct link to 6.3 Operational Considerations" translate="no">​</a></h3>
<ul>
<li class=""><strong>Deployment</strong>:<!-- -->
<ul>
<li class="">The desktop shell ships as a separate package/app; CI should build artifacts per platform.</li>
<li class="">Prefer a reproducible build pipeline; avoid “download at runtime” for critical assets (fonts/sprite sheets).</li>
</ul>
</li>
<li class=""><strong>Telemetry &amp; Observability</strong>:<!-- -->
<ul>
<li class="">Leverage existing runtime diagnostics timeline (<code>packages/core/src/diagnostics/*</code>) and expose a dev overlay in the shell.</li>
<li class="">Add renderer metrics: frame time, GPU submission time, batch counts, atlas pressure, glyph cache churn.</li>
<li class="">Ensure replay validation errors provide structured JSON summaries suitable for CI parsing (mirroring existing deterministic test/reporting practices).</li>
</ul>
</li>
<li class=""><strong>Security &amp; Compliance</strong> (Electron):<!-- -->
<ul>
<li class="">Follow Electron security guidance (context isolation, disable Node integration in renderer, narrow preload API surface).</li>
<li class="">Treat replay and content pack files as untrusted input: validate schema versions, lengths, and hashes before ingestion.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="7-work-breakdown--delivery-plan">7. Work Breakdown &amp; Delivery Plan<a href="#7-work-breakdown--delivery-plan" class="hash-link" aria-label="Direct link to 7. Work Breakdown &amp; Delivery Plan" title="Direct link to 7. Work Breakdown &amp; Delivery Plan" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_EdDC" id="71-issue-map">7.1 Issue Map<a href="#71-issue-map" class="hash-link" aria-label="Direct link to 7.1 Issue Map" title="Direct link to 7.1 Issue Map" translate="no">​</a></h3>
<table><thead><tr><th>Issue Title</th><th>Scope Summary</th><th>Proposed Assignee/Agent</th><th>Dependencies</th><th>Acceptance Criteria</th></tr></thead><tbody><tr><td><code>docs: desktop shell + WebGPU renderer + replay (Issue 778)</code></td><td>This document + follow-up links</td><td>Docs Agent</td><td>None</td><td>Doc merged and referenced from Issue 778</td></tr><tr><td><code>chore(shell-desktop): Electron scaffolding</code></td><td>Main/preload/renderer scaffolding, window lifecycle</td><td>Desktop Shell Agent</td><td>Doc approved</td><td>App opens window, clean shutdown, basic IPC wiring</td></tr><tr><td><code>feat(renderer-contract): define ViewModel + RCB types</code></td><td>Add data-only contract package with versioning</td><td>Renderer Contract Agent</td><td>Doc approved</td><td>Types published in workspace; basic validation + hashing helpers</td></tr><tr><td><code>feat(renderer-debug): minimal backend</code></td><td>Canvas2D/minimal WebGPU backend consuming RCB</td><td>Debug Renderer Agent</td><td>render-contract</td><td>Can render a handful of primitives; supports replay stepping</td></tr><tr><td><code>feat(renderer-webgpu): device init + clear</code></td><td>WebGPU init + resize + present loop</td><td>WebGPU Renderer Agent</td><td>render-contract</td><td>Renders stable clear color; handles device loss gracefully</td></tr><tr><td><code>feat(renderer-webgpu): sprites + batching</code></td><td>Quad batching + texture/atlas loader</td><td>WebGPU Renderer Agent</td><td>device init</td><td>Draw N sprites deterministically with stable sort</td></tr><tr><td><code>feat(renderer-webgpu): GPU UI primitives</code></td><td>Rect/image primitives + clipping</td><td>WebGPU Renderer Agent</td><td>sprites</td><td>HUD panels render without DOM</td></tr><tr><td><code>feat(renderer-webgpu): text pipeline</code></td><td>Bitmap/MSDF text rendering + deterministic layout</td><td>WebGPU Renderer Agent</td><td>UI primitives</td><td>Text renders deterministically for packaged fonts</td></tr><tr><td><code>feat(shell-desktop): sim worker + frame pump</code></td><td>Run core in Worker, emit ViewModel/RCB to renderer</td><td>Desktop Shell Agent</td><td>Electron scaffolding + contract</td><td>Sim steps deterministically; renderer receives frames</td></tr><tr><td><code>feat(replay): sim replay container + runner</code></td><td>Write/read sim replay files; CLI or in-app UI</td><td>Replay &amp; Tooling Agent</td><td>render-contract + shell</td><td>Record &amp; replay sim commands; validate final state</td></tr><tr><td><code>feat(replay): visual replay (ViewModel/RCB)</code></td><td>Record per-frame ViewModel/RCB; hash validation</td><td>Replay &amp; Tooling Agent</td><td>replay container + renderer</td><td>Replay reproduces identical frame hashes on same build/content</td></tr><tr><td><code>test(render-compiler): deterministic RCB generation</code></td><td>Golden tests for compilation determinism</td><td>Renderer Contract Agent</td><td>contract</td><td><code>pnpm test</code> passes; deterministic ordering validated</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_EdDC" id="72-milestones">7.2 Milestones<a href="#72-milestones" class="hash-link" aria-label="Direct link to 7.2 Milestones" title="Direct link to 7.2 Milestones" translate="no">​</a></h3>
<ul>
<li class=""><strong>Phase 1 — Foundations</strong>:<!-- -->
<ul>
<li class="">Electron shell scaffolding + renderer contract + minimal debug renderer + WebGPU “clear screen”.</li>
<li class="">Establish replay container header conventions and basic sim recording integration.</li>
</ul>
</li>
<li class=""><strong>Phase 2 — 2D Rendering + GPU UI</strong>:<!-- -->
<ul>
<li class="">Sprites, atlases, UI primitives, and an initial text strategy.</li>
<li class="">Deterministic compile rules + golden tests for RCB generation.</li>
</ul>
</li>
<li class=""><strong>Phase 3 — Replay Tooling</strong>:<!-- -->
<ul>
<li class="">Combined replay runner (sim + visual) with hash validation and step-through UI.</li>
<li class="">Perf HUD and capture/export workflows for debugging.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_EdDC" id="73-coordination-notes">7.3 Coordination Notes<a href="#73-coordination-notes" class="hash-link" aria-label="Direct link to 7.3 Coordination Notes" title="Direct link to 7.3 Coordination Notes" translate="no">​</a></h3>
<ul>
<li class=""><strong>Hand-off Package</strong> (minimum context for implementation agents):<!-- -->
<ul>
<li class=""><code>docs/runtime-command-queue-design.md</code> (step stamping + determinism contract)</li>
<li class=""><code>packages/core/src/internals.browser.ts</code> (tick loop and step lifecycle)</li>
<li class=""><code>packages/core/src/command-recorder.ts</code> (existing command replay utility)</li>
<li class=""><code>packages/core/src/resource-publish-transport.ts</code> (typed-array transport patterns)</li>
<li class=""><code>packages/controls/src/index.ts</code> (input → command mapping contract)</li>
</ul>
</li>
<li class=""><strong>Communication Cadence</strong>:<!-- -->
<ul>
<li class="">Phase boundary reviews (contract + scaffolding, then rendering primitives, then replay tooling).</li>
<li class="">Keep follow-up issues small and sliceable (one contract change per PR where possible).</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="8-agent-guidance--guardrails">8. Agent Guidance &amp; Guardrails<a href="#8-agent-guidance--guardrails" class="hash-link" aria-label="Direct link to 8. Agent Guidance &amp; Guardrails" title="Direct link to 8. Agent Guidance &amp; Guardrails" translate="no">​</a></h2>
<ul>
<li class=""><strong>Context Packets</strong>:<!-- -->
<ul>
<li class="">Always load: <code>docs/design-document-template.md</code>, <code>docs/idle-engine-design.md</code>, Issue 778.</li>
<li class="">For determinism: <code>docs/runtime-command-queue-design.md</code>, <code>docs/runtime-step-lifecycle.md</code>, <code>docs/state-synchronization-protocol-design.md</code>.</li>
<li class="">For replay: <code>packages/core/src/command-recorder.ts</code>.</li>
</ul>
</li>
<li class=""><strong>Prompting &amp; Constraints</strong>:<!-- -->
<ul>
<li class="">Keep the sim deterministic: no wall-clock time or unseeded randomness in selectors/compilers.</li>
<li class="">Keep renderer contract data-only and versioned; avoid leaking core internals into renderer.</li>
<li class="">Prefer pure functions for compilation and hashing so tests can run in Node without GPU.</li>
</ul>
</li>
<li class=""><strong>Safety Rails</strong>:<!-- -->
<ul>
<li class="">Do not edit checked-in <code>dist/</code> outputs by hand.</li>
<li class="">Do not introduce console noise that could corrupt JSON-based test reporters.</li>
<li class="">Treat replay/content/asset files as untrusted input: validate before use.</li>
</ul>
</li>
<li class=""><strong>Validation Hooks</strong>:<!-- -->
<ul>
<li class=""><code>pnpm lint</code></li>
<li class=""><code>pnpm test</code> (and package-filtered tests during iteration)</li>
<li class="">If tests affect coverage, regenerate via <code>pnpm coverage:md</code> (do not edit <code>docs/coverage/index.md</code> manually).</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="9-alternatives-considered">9. Alternatives Considered<a href="#9-alternatives-considered" class="hash-link" aria-label="Direct link to 9. Alternatives Considered" title="Direct link to 9. Alternatives Considered" translate="no">​</a></h2>
<ul>
<li class=""><strong>Use DOM/CSS for UI</strong>: rejected due to explicit constraint; also undermines deterministic UI/layout when relying on browser font metrics and CSS.</li>
<li class=""><strong>Use an off-the-shelf renderer (PixiJS/WebGL/Unity/Godot)</strong>: rejected for long-horizon control, determinism, and deep integration needs (replay + debug overlays + contract stability).</li>
<li class=""><strong>Tauri instead of Electron</strong>: viable long-term, but Electron is chosen initially for ecosystem maturity and faster iteration on WebGPU/WebView behavior; revisit once contracts stabilize.</li>
<li class=""><strong>Run sim in Electron main process</strong>: viable, but sim-in-worker (renderer process) aligns with existing browser-safe runtime entrypoints and keeps a strict UI/IO boundary; evaluate per performance/profiling.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="10-testing--validation-plan">10. Testing &amp; Validation Plan<a href="#10-testing--validation-plan" class="hash-link" aria-label="Direct link to 10. Testing &amp; Validation Plan" title="Direct link to 10. Testing &amp; Validation Plan" translate="no">​</a></h2>
<ul>
<li class=""><strong>Unit / Integration</strong>:<!-- -->
<ul>
<li class="">Contract-level tests: canonicalization, hashing, deterministic ordering of ViewModel/RCB structures.</li>
<li class="">Replay tests: sim replay produces identical end-state checksums; combined replay validates ViewModel/RCB frame hashes.</li>
<li class="">Shell tests (where feasible): IPC message validation, file format validation.</li>
</ul>
</li>
<li class=""><strong>Performance</strong>:<!-- -->
<ul>
<li class="">Add micro-benchmarks for compile step (ViewModel → RCB) and sprite batching.</li>
<li class="">Track renderer frame time budgets and regression thresholds (CI-reported, not necessarily gating initially).</li>
</ul>
</li>
<li class=""><strong>Tooling / A11y</strong>:<!-- -->
<ul>
<li class="">GPU UI must include focus navigation and readable text scaling strategies (tracked as a follow-up workstream if not immediately delivered).</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="11-risks--mitigations">11. Risks &amp; Mitigations<a href="#11-risks--mitigations" class="hash-link" aria-label="Direct link to 11. Risks &amp; Mitigations" title="Direct link to 11. Risks &amp; Mitigations" translate="no">​</a></h2>
<table><thead><tr><th>Risk</th><th>Impact</th><th>Mitigation</th></tr></thead><tbody><tr><td>WebGPU platform/driver variance</td><td>Rendering differences or device loss</td><td>Implement robust device-loss handling; keep debug renderer; gate advanced features behind capability checks</td></tr><tr><td>Text determinism (fonts/layout)</td><td>Replay mismatches across machines</td><td>Use packaged fonts + deterministic metrics; start with bitmap/MSDF and constrain shaping; record layout decisions in replay if needed</td></tr><tr><td>Renderer contract churn</td><td>Downstream work blocked by breaking changes</td><td>Version contracts; keep changes additive; add “contract conformance” tests and replay golden sets</td></tr><tr><td>Large replay files</td><td>Slow IO, poor UX</td><td>Chunk frames; optional recording modes; compression as follow-up</td></tr><tr><td>Asset pipeline complexity</td><td>Non-determinism, long iteration times</td><td>Stable asset manifests + hashes; deterministic atlas packing; start simple and iterate</td></tr><tr><td>Electron security pitfalls</td><td>RCE risk</td><td>Follow security checklist; minimal preload API; no remote content by default</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="12-rollout-plan">12. Rollout Plan<a href="#12-rollout-plan" class="hash-link" aria-label="Direct link to 12. Rollout Plan" title="Direct link to 12. Rollout Plan" translate="no">​</a></h2>
<ul>
<li class=""><strong>Milestones</strong>:<!-- -->
<ul>
<li class="">Introduce packages behind dev-only entrypoints first.</li>
<li class="">Promote to “first-party shell” once replay + renderer contract are stable and smoke-tested on all three OSes.</li>
</ul>
</li>
<li class=""><strong>Migration Strategy</strong>:<!-- -->
<ul>
<li class="">Additive: no required changes for existing core consumers.</li>
<li class="">Replay formats are versioned; older replays remain loadable via adapters or explicit “unsupported version” errors.</li>
</ul>
</li>
<li class=""><strong>Communication</strong>:<!-- -->
<ul>
<li class="">Track progress in Issue 778 with links to the issue map entries and the latest replay/renderer contract versions.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="13-open-questions">13. Open Questions<a href="#13-open-questions" class="hash-link" aria-label="Direct link to 13. Open Questions" title="Direct link to 13. Open Questions" translate="no">​</a></h2>
<ol>
<li class=""><strong>Text strategy</strong>: bitmap fonts vs MSDF; shaping scope (ASCII only vs full shaping via HarfBuzz/WASM).</li>
<li class=""><strong>UI layout engine</strong>: custom layout vs flexbox-like solver (Yoga) vs immediate-mode UI.</li>
<li class=""><strong>Coordinate and unit conventions</strong>: world-units vs pixel-units; camera scaling rules; integer quantization boundaries.</li>
<li class=""><strong>Where ViewModel is authored</strong>: in <code>packages/core</code> selectors vs a game module in the shell vs content-driven scene graph.</li>
<li class=""><strong>Renderer fallback policy</strong>: is a WebGL fallback required, or is debug renderer sufficient?</li>
<li class=""><strong>Replay container format details</strong>: JSON vs binary, compression, streaming, hash digest size/perf trade-offs (e.g., full SHA-256 vs truncated/faster hashes).</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="14-follow-up-work">14. Follow-Up Work<a href="#14-follow-up-work" class="hash-link" aria-label="Direct link to 14. Follow-Up Work" title="Direct link to 14. Follow-Up Work" translate="no">​</a></h2>
<ul>
<li class="">Add a dedicated “Shell &amp; Rendering” documentation section (including how downstream apps can reuse the renderer contract without Electron).</li>
<li class="">Extend content schemas to optionally declare asset manifests and scene composition metadata (if/when game requirements demand it).</li>
<li class="">Add a “replay inspector” tool (CLI + in-app) with diff views, frame scrubber, and export-to-bug-report workflow.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="15-references">15. References<a href="#15-references" class="hash-link" aria-label="Direct link to 15. References" title="Direct link to 15. References" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://github.com/hansjm10/Idle-Game-Engine/issues/778" target="_blank" rel="noopener noreferrer" class="">https://github.com/hansjm10/Idle-Game-Engine/issues/778</a></li>
<li class=""><code>docs/design-document-template.md</code></li>
<li class=""><code>docs/idle-engine-design.md</code></li>
<li class=""><code>docs/runtime-command-queue-design.md</code></li>
<li class=""><code>docs/runtime-step-lifecycle.md</code></li>
<li class=""><code>docs/state-synchronization-protocol-design.md</code></li>
<li class=""><code>packages/core/src/internals.browser.ts</code></li>
<li class=""><code>packages/core/src/command-recorder.ts</code></li>
<li class=""><code>packages/core/src/resource-publish-transport.ts</code></li>
<li class=""><code>packages/controls/src/index.ts</code></li>
<li class="">WebGPU spec: <a href="https://www.w3.org/TR/webgpu/" target="_blank" rel="noopener noreferrer" class="">https://www.w3.org/TR/webgpu/</a></li>
<li class="">WGSL spec: <a href="https://www.w3.org/TR/WGSL/" target="_blank" rel="noopener noreferrer" class="">https://www.w3.org/TR/WGSL/</a></li>
<li class="">Electron security guide: <a href="https://www.electronjs.org/docs/latest/tutorial/security" target="_blank" rel="noopener noreferrer" class="">https://www.electronjs.org/docs/latest/tutorial/security</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="appendix-a--glossary">Appendix A — Glossary<a href="#appendix-a--glossary" class="hash-link" aria-label="Direct link to Appendix A — Glossary" title="Direct link to Appendix A — Glossary" translate="no">​</a></h2>
<ul>
<li class=""><strong>Shell</strong>: The host application that owns IO, input, scheduling, and integrates sim + renderer.</li>
<li class=""><strong>ViewModel</strong>: Semantic, renderer-agnostic data describing what should appear in the scene/UI.</li>
<li class=""><strong>RenderCommandBuffer (RCB)</strong>: Renderer-ready draw list and associated metadata with deterministic ordering.</li>
<li class=""><strong>Sim Replay</strong>: Authoritative replay based on initial state + command stream + RNG.</li>
<li class=""><strong>Visual Replay</strong>: Replay of ViewModel and/or RCB frames for visual debugging without rerunning sim.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_EdDC" id="appendix-b--change-log">Appendix B — Change Log<a href="#appendix-b--change-log" class="hash-link" aria-label="Direct link to Appendix B — Change Log" title="Direct link to Appendix B — Change Log" translate="no">​</a></h2>
<table><thead><tr><th>Date</th><th>Author</th><th>Change Summary</th></tr></thead><tbody><tr><td>2026-01-16</td><td>Codex (AI)</td><td>Initial draft for Issue 778</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_QKxP"><a href="https://github.com/hansjm10/Idle-Game-Engine/edit/main/docs/../../docs/desktop-shell-webgpu-renderer-replay-design-issue-778.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_wOWh" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Basj"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Idle-Game-Engine/controls-contract-design-issue-705"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Controls Contract Design (Issue 705)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Idle-Game-Engine/runtime-event-pubsub-design"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Runtime Event Pub/Sub Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_AUZ0 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#document-control" class="table-of-contents__link toc-highlight">Document Control</a></li><li><a href="#1-summary" class="table-of-contents__link toc-highlight">1. Summary</a></li><li><a href="#2-context--problem-statement" class="table-of-contents__link toc-highlight">2. Context &amp; Problem Statement</a></li><li><a href="#3-goals--non-goals" class="table-of-contents__link toc-highlight">3. Goals &amp; Non-Goals</a></li><li><a href="#4-stakeholders-agents--impacted-surfaces" class="table-of-contents__link toc-highlight">4. Stakeholders, Agents &amp; Impacted Surfaces</a></li><li><a href="#5-current-state" class="table-of-contents__link toc-highlight">5. Current State</a></li><li><a href="#6-proposed-solution" class="table-of-contents__link toc-highlight">6. Proposed Solution</a><ul><li><a href="#61-architecture-overview" class="table-of-contents__link toc-highlight">6.1 Architecture Overview</a></li><li><a href="#62-detailed-design" class="table-of-contents__link toc-highlight">6.2 Detailed Design</a></li><li><a href="#63-operational-considerations" class="table-of-contents__link toc-highlight">6.3 Operational Considerations</a></li></ul></li><li><a href="#7-work-breakdown--delivery-plan" class="table-of-contents__link toc-highlight">7. Work Breakdown &amp; Delivery Plan</a><ul><li><a href="#71-issue-map" class="table-of-contents__link toc-highlight">7.1 Issue Map</a></li><li><a href="#72-milestones" class="table-of-contents__link toc-highlight">7.2 Milestones</a></li><li><a href="#73-coordination-notes" class="table-of-contents__link toc-highlight">7.3 Coordination Notes</a></li></ul></li><li><a href="#8-agent-guidance--guardrails" class="table-of-contents__link toc-highlight">8. Agent Guidance &amp; Guardrails</a></li><li><a href="#9-alternatives-considered" class="table-of-contents__link toc-highlight">9. Alternatives Considered</a></li><li><a href="#10-testing--validation-plan" class="table-of-contents__link toc-highlight">10. Testing &amp; Validation Plan</a></li><li><a href="#11-risks--mitigations" class="table-of-contents__link toc-highlight">11. Risks &amp; Mitigations</a></li><li><a href="#12-rollout-plan" class="table-of-contents__link toc-highlight">12. Rollout Plan</a></li><li><a href="#13-open-questions" class="table-of-contents__link toc-highlight">13. Open Questions</a></li><li><a href="#14-follow-up-work" class="table-of-contents__link toc-highlight">14. Follow-Up Work</a></li><li><a href="#15-references" class="table-of-contents__link toc-highlight">15. References</a></li><li><a href="#appendix-a--glossary" class="table-of-contents__link toc-highlight">Appendix A — Glossary</a></li><li><a href="#appendix-b--change-log" class="table-of-contents__link toc-highlight">Appendix B — Change Log</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Idle-Game-Engine/">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/Idle-Game-Engine/contributor-handbook">Contributor Handbook</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hansjm10/Idle-Game-Engine/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_cYRj"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/hansjm10/Idle-Game-Engine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_cYRj"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Idle Engine.</div></div></div></footer></div>
</body>
</html>