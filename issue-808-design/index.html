<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-issue-808-design" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">shell-desktop: coalesce/backpressure sim frames over IPC (Issue 808) | Idle Engine Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hansjm10.github.io/Idle-Game-Engine/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hansjm10.github.io/Idle-Game-Engine/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hansjm10.github.io/Idle-Game-Engine/issue-808-design"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="shell-desktop: coalesce/backpressure sim frames over IPC (Issue 808) | Idle Engine Docs"><meta data-rh="true" name="description" content="Document Control"><meta data-rh="true" property="og:description" content="Document Control"><link data-rh="true" rel="icon" href="/Idle-Game-Engine/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hansjm10.github.io/Idle-Game-Engine/issue-808-design"><link data-rh="true" rel="alternate" href="https://hansjm10.github.io/Idle-Game-Engine/issue-808-design" hreflang="en"><link data-rh="true" rel="alternate" href="https://hansjm10.github.io/Idle-Game-Engine/issue-808-design" hreflang="x-default"><link rel="stylesheet" href="/Idle-Game-Engine/assets/css/styles.0ca8729c.css">
<script src="/Idle-Game-Engine/assets/js/runtime~main.5cb83108.js" defer="defer"></script>
<script src="/Idle-Game-Engine/assets/js/main.1672bcab.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Idle-Game-Engine/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_sIzO" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Idle-Game-Engine/"><div class="navbar__logo"><img src="/Idle-Game-Engine/img/logo.svg" alt="Idle Engine Logo" class="themedComponent_yXCL themedComponent--light_m26g"><img src="/Idle-Game-Engine/img/logo.svg" alt="Idle Engine Logo" class="themedComponent_yXCL themedComponent--dark_DQxa"></div><b class="navbar__title text--truncate">Idle Engine</b></a><a class="navbar__item navbar__link" href="/Idle-Game-Engine/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/hansjm10/Idle-Game-Engine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_zgE_"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_VTTy colorModeToggle_mrTp"><button class="clean-btn toggleButton_Qf8c toggleButtonDisabled_hCyI" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_j9FX lightToggleIcon_i4Ty"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_j9FX darkToggleIcon_B1fV"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_j9FX systemToggleIcon_d9Wq"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_xdO6"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_fCXc"><div class="docsWrapper_oodB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ZUBg" type="button"></button><div class="docRoot_zYbW"><main class="docMainContainer_BJhZ docMainContainerEnhanced_qZTj"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_NkVs"><div class="docItemContainer_WMJH"><article><div class="tocCollapsible_Kd7K theme-doc-toc-mobile tocMobile_Gv4l"><button type="button" class="clean-btn tocCollapsibleButton_ajnv">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>shell-desktop: coalesce/backpressure sim frames over IPC (Issue 808)</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="document-control">Document Control<a href="#document-control" class="hash-link" aria-label="Direct link to Document Control" title="Direct link to Document Control" translate="no">​</a></h2>
<ul>
<li class=""><strong>Title</strong>: Treat <code>idle-engine:frame</code> as a latest-snapshot stream (coalesce sim frames over IPC)</li>
<li class=""><strong>Authors</strong>: Codex (AI)</li>
<li class=""><strong>Reviewers</strong>: @hansjm10</li>
<li class=""><strong>Status</strong>: Draft</li>
<li class=""><strong>Last Updated</strong>: 2026-01-23</li>
<li class=""><strong>Related Issues</strong>: <a href="https://github.com/hansjm10/Idle-Game-Engine/issues/808" target="_blank" rel="noopener noreferrer" class="">https://github.com/hansjm10/Idle-Game-Engine/issues/808</a></li>
<li class=""><strong>Execution Mode</strong>: AI-led</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="1-summary">1. Summary<a href="#1-summary" class="hash-link" aria-label="Direct link to 1. Summary" title="Direct link to 1. Summary" translate="no">​</a></h2>
<p>The desktop sim worker can generate multiple <code>RenderCommandBuffer</code> snapshots during a single main-process tick when it catches up (fixed-step sim with <code>deltaMs &gt; stepSizeMs</code>, bounded by <code>maxStepsPerFrame</code>). The renderer only ever uses the most recent snapshot, but the main process currently forwards every intermediate snapshot over Electron IPC, wasting CPU/IPC bandwidth and creating latency spikes during catch-up bursts. This design defines <code>idle-engine:frame</code> as a latest-snapshot stream, coalesces frames as early as possible (worker -&gt; main), and adds defense-in-depth (main forwards at most one frame per worker message). Optional ACK-based backpressure is included as a follow-up if profiling shows IPC backlog.</p>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="2-context--problem-statement">2. Context &amp; Problem Statement<a href="#2-context--problem-statement" class="hash-link" aria-label="Direct link to 2. Context &amp; Problem Statement" title="Direct link to 2. Context &amp; Problem Statement" translate="no">​</a></h2>
<ul>
<li class=""><strong>Background</strong>: <code>@idle-engine/shell-desktop</code> runs the deterministic runtime in a Node <code>Worker</code> (<code>packages/shell-desktop/src/sim-worker.ts</code>). The main process ticks the worker and forwards <code>RenderCommandBuffer</code> frames to the renderer via <code>IPC_CHANNELS.frame</code> (<code>idle-engine:frame</code>). The renderer stores <code>latestRcb</code> and renders on <code>requestAnimationFrame</code> (<code>packages/shell-desktop/src/renderer/index.ts</code>).</li>
<li class=""><strong>Problem</strong>: The worker emits <code>{ kind: &#x27;frames&#x27;, frames: RenderCommandBuffer[], nextStep }</code>, and the main process forwards <em>each</em> element of <code>frames</code> via IPC (<code>packages/shell-desktop/src/main.ts</code>). During catch-up, <code>frames.length</code> can be &gt; 1, but the renderer drops intermediates and uses only the last snapshot—so those IPC sends are pure overhead.</li>
<li class=""><strong>Forces</strong>:<!-- -->
<ul>
<li class="">Keep the sim deterministic: dropping intermediate render snapshots must not affect sim state progression.</li>
<li class="">Preserve renderer behavior: consumers should only rely on receiving “the newest available snapshot,” not every sim step.</li>
<li class="">Maintain responsiveness under stalls/jank: bound work and avoid bursty IPC traffic.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="3-goals--non-goals">3. Goals &amp; Non-Goals<a href="#3-goals--non-goals" class="hash-link" aria-label="Direct link to 3. Goals &amp; Non-Goals" title="Direct link to 3. Goals &amp; Non-Goals" translate="no">​</a></h2>
<ul>
<li class=""><strong>Goals</strong>:<!-- -->
<ul>
<li class="">Ensure the renderer receives <strong>≤ 1</strong> <code>idle-engine:frame</code> event per worker tick message, and it is the highest-step frame.</li>
<li class="">Do not emit <code>idle-engine:frame</code> for empty frame batches (<code>frames: []</code>).</li>
<li class="">Make IPC cost scale with renderer consumption (display rate / snapshot cadence) instead of sim catch-up bursts.</li>
<li class="">Provide lightweight observability for dropped intermediates (e.g., <code>droppedFrames</code> counters between worker and main).</li>
</ul>
</li>
<li class=""><strong>Non-Goals</strong>:<!-- -->
<ul>
<li class="">Rendering interpolation between sim steps.</li>
<li class="">Recording/streaming every sim step for capture/replay (would require a separate dev-only channel or file sink).</li>
<li class="">Changing core runtime stepping semantics (<code>maxStepsPerFrame</code>, accumulator behavior) in <code>@idle-engine/core</code>.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="4-stakeholders-agents--impacted-surfaces">4. Stakeholders, Agents &amp; Impacted Surfaces<a href="#4-stakeholders-agents--impacted-surfaces" class="hash-link" aria-label="Direct link to 4. Stakeholders, Agents &amp; Impacted Surfaces" title="Direct link to 4. Stakeholders, Agents &amp; Impacted Surfaces" translate="no">​</a></h2>
<ul>
<li class=""><strong>Primary Stakeholders</strong>:<!-- -->
<ul>
<li class="">Desktop shell maintainers (<code>packages/shell-desktop</code>)</li>
<li class="">Renderer consumers of <code>idle-engine:frame</code> (desktop renderer and any future inspectors)</li>
</ul>
</li>
<li class=""><strong>Agent Roles</strong>:<!-- -->
<ul>
<li class=""><strong>Docs Agent</strong>: Maintain this design doc; track open questions and decisions.</li>
<li class=""><strong>Shell Implementation Agent</strong>: Implement worker/main coalescing and (optional) ACK backpressure.</li>
<li class=""><strong>Test Agent</strong>: Update/add Vitest coverage for coalescing and empty batches.</li>
</ul>
</li>
<li class=""><strong>Affected Packages/Services</strong>:<!-- -->
<ul>
<li class=""><code>packages/shell-desktop/src/sim-worker.ts</code> (worker outbound message shape)</li>
<li class=""><code>packages/shell-desktop/src/main.ts</code> (coalescing + forwarding behavior)</li>
<li class=""><code>packages/shell-desktop/src/sim/sim-runtime.ts</code> (optional: avoid allocating frame arrays)</li>
<li class=""><code>packages/shell-desktop/src/main.test.ts</code>, <code>packages/shell-desktop/src/sim-worker.test.ts</code> (tests)</li>
</ul>
</li>
<li class=""><strong>Compatibility Considerations</strong>:<!-- -->
<ul>
<li class=""><code>idle-engine:frame</code> payload type remains <code>RenderCommandBuffer</code> (<code>packages/shell-desktop/src/ipc.ts</code>).</li>
<li class="">Semantics change: intermediate frames may be dropped; consumers must treat the channel as “latest snapshot” not “every step.”</li>
<li class="">The worker ↔ main message protocol is internal to <code>@idle-engine/shell-desktop</code> and can be migrated in lockstep; during transition, main should tolerate <code>{ kind: &#x27;frames&#x27; }</code> batches defensively.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="5-current-state">5. Current State<a href="#5-current-state" class="hash-link" aria-label="Direct link to 5. Current State" title="Direct link to 5. Current State" translate="no">​</a></h2>
<p>Data flow today:</p>
<div class="language-text codeBlockContainer_QSSF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_YGpJ"><pre tabindex="0" class="prism-code language-text codeBlock_Ap7y thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_zA5F"><span class="token-line" style="color:#393A34"><span class="token plain">main.ts tick loop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; worker.postMessage({ kind: &#x27;tick&#x27;, deltaMs })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; sim-worker.ts calls SimRuntime.tick(deltaMs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt; IdleEngineRuntime.tick(deltaMs) may run N fixed steps (N &lt;= maxStepsPerFrame)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt; demo &quot;frame-producer&quot; system produces a RenderCommandBuffer each step</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; sim-worker.ts emits { kind: &#x27;frames&#x27;, frames: [frame0..frameN-1], nextStep }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; main.ts forwards every element in frames via IPC_CHANNELS.frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; renderer receives multiple idle-engine:frame events and keeps only the last (latestRcb)</span><br></span></code></pre></div></div>
<p>Key characteristics:</p>
<ul>
<li class="">In <code>packages/shell-desktop/src/sim/sim-runtime.ts</code>, <code>frame-producer</code> pushes one frame per executed sim step into a queue, and <code>tick()</code> returns <code>frames: Array.from(frameQueue)</code>.</li>
<li class="">In <code>packages/shell-desktop/src/main.ts</code>, the worker message handler does:<!-- -->
<ul>
<li class=""><code>nextStep = message.nextStep</code></li>
<li class=""><code>for (const frame of message.frames) mainWindow.webContents.send(IPC_CHANNELS.frame, frame)</code></li>
</ul>
</li>
<li class="">In <code>packages/shell-desktop/src/renderer/index.ts</code>, <code>onFrame</code> assigns <code>latestRcb = frame</code> and rendering is driven by <code>requestAnimationFrame</code>, so intermediate frames are overwritten before they can be displayed.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="6-proposed-solution">6. Proposed Solution<a href="#6-proposed-solution" class="hash-link" aria-label="Direct link to 6. Proposed Solution" title="Direct link to 6. Proposed Solution" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_pQUT" id="61-architecture-overview">6.1 Architecture Overview<a href="#61-architecture-overview" class="hash-link" aria-label="Direct link to 6.1 Architecture Overview" title="Direct link to 6.1 Architecture Overview" translate="no">​</a></h3>
<ul>
<li class=""><strong>Narrative</strong>: Treat <code>idle-engine:frame</code> as a latest-snapshot stream. Coalesce intermediate frames in the producer chain so that at most one snapshot crosses each boundary (worker → main, main → renderer). Keep <code>nextStep</code> updates intact so command stamping remains correct. If needed later, add explicit ACK-based backpressure so main never has more than one in-flight frame to the renderer.</li>
<li class=""><strong>Diagram</strong>:</li>
</ul>
<div class="language-text codeBlockContainer_QSSF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_YGpJ"><pre tabindex="0" class="prism-code language-text codeBlock_Ap7y thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_zA5F"><span class="token-line" style="color:#393A34"><span class="token plain">Worker tick (may run N sim steps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; produces N internal snapshots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; coalesce to last snapshot (highest step)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; main forwards at most 1 snapshot per worker message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; renderer stores latest snapshot and renders on rAF</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_pQUT" id="62-detailed-design">6.2 Detailed Design<a href="#62-detailed-design" class="hash-link" aria-label="Direct link to 6.2 Detailed Design" title="Direct link to 6.2 Detailed Design" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_pQUT" id="621-define-the-contract-idle-engineframe-is-latest-snapshot">6.2.1 Define the contract: <code>idle-engine:frame</code> is latest-snapshot<a href="#621-define-the-contract-idle-engineframe-is-latest-snapshot" class="hash-link" aria-label="Direct link to 621-define-the-contract-idle-engineframe-is-latest-snapshot" title="Direct link to 621-define-the-contract-idle-engineframe-is-latest-snapshot" translate="no">​</a></h4>
<ul>
<li class="">The <code>idle-engine:frame</code> channel delivers a complete snapshot representing the most recent available sim state.</li>
<li class="">Intermediate sim-step snapshots may be dropped.</li>
<li class="">Consumers must not assume they will receive a frame for every sim step.</li>
<li class="">If frames arrive out of order, the highest <code>frame.frame.step</code> wins; older steps are ignored.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_pQUT" id="622-coalesce-as-early-as-possible-worker-emits-only-the-last-frame">6.2.2 Coalesce as early as possible: worker emits only the last frame<a href="#622-coalesce-as-early-as-possible-worker-emits-only-the-last-frame" class="hash-link" aria-label="Direct link to 6.2.2 Coalesce as early as possible: worker emits only the last frame" title="Direct link to 6.2.2 Coalesce as early as possible: worker emits only the last frame" translate="no">​</a></h4>
<p>Update the sim worker outbound message protocol to avoid sending arrays of frames across the worker boundary:</p>
<ul>
<li class=""><strong>New outbound message shape (worker → main)</strong>:<!-- -->
<ul>
<li class=""><code>{ kind: &#x27;frame&#x27;, frame?: RenderCommandBuffer, nextStep: number, droppedFrames: number }</code></li>
<li class=""><code>frame</code> is omitted when no frames were produced.</li>
<li class=""><code>droppedFrames</code> is <code>max(0, producedFrames - (frame ? 1 : 0))</code>.</li>
</ul>
</li>
</ul>
<p>Implementation notes:</p>
<ul>
<li class="">The worker should still update <code>nextStep</code> every tick message, even when <code>frame</code> is omitted, because <code>packages/shell-desktop/src/main.ts</code> uses <code>nextStep</code> to stamp control-event commands.</li>
<li class="">To compute <code>droppedFrames</code> without allocating arrays, <code>packages/shell-desktop/src/sim/sim-runtime.ts</code> can be refactored to track:<!-- -->
<ul>
<li class=""><code>latestFrame: RenderCommandBuffer | undefined</code></li>
<li class=""><code>producedFrames: number</code>
and return <code>{ frame: latestFrame, nextStep, droppedFrames: Math.max(0, producedFrames - (latestFrame ? 1 : 0)) }</code>.</li>
<li class="">This is optional for correctness; it primarily reduces allocation and clone cost inside the worker.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_pQUT" id="623-defense-in-depth-main-forwards-at-most-one-frame-per-worker-message">6.2.3 Defense-in-depth: main forwards at most one frame per worker message<a href="#623-defense-in-depth-main-forwards-at-most-one-frame-per-worker-message" class="hash-link" aria-label="Direct link to 6.2.3 Defense-in-depth: main forwards at most one frame per worker message" title="Direct link to 6.2.3 Defense-in-depth: main forwards at most one frame per worker message" translate="no">​</a></h4>
<p>Even if the worker still sends <code>{ kind: &#x27;frames&#x27;, frames: [...] }</code> during a migration window, the main process should coalesce:</p>
<ul>
<li class="">If <code>frames.length === 0</code>: do not call <code>webContents.send(IPC_CHANNELS.frame, ...)</code>.</li>
<li class="">Otherwise: forward only <code>frames.at(-1)</code> (the highest-step frame, assuming ordered generation).</li>
</ul>
<p>For the new <code>{ kind: &#x27;frame&#x27; }</code> message:</p>
<ul>
<li class="">If <code>frame</code> is present: forward it.</li>
<li class="">If <code>frame</code> is absent: do nothing (but still update <code>nextStep</code>).</li>
</ul>
<p>Optional robustness:</p>
<ul>
<li class="">Track <code>lastForwardedStep</code> in the main process and ignore frames where <code>frame.frame.step &lt;= lastForwardedStep</code> to guard against out-of-order delivery or duplicate messages.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_pQUT" id="624-optional-explicit-renderer-ack-backpressure">6.2.4 Optional: explicit renderer ACK backpressure<a href="#624-optional-explicit-renderer-ack-backpressure" class="hash-link" aria-label="Direct link to 6.2.4 Optional: explicit renderer ACK backpressure" title="Direct link to 6.2.4 Optional: explicit renderer ACK backpressure" translate="no">​</a></h4>
<p>If profiling shows IPC backlog (e.g., renderer event queue or <code>webContents.send</code> contention), introduce a simple ACK:</p>
<ul>
<li class="">Add IPC channels:<!-- -->
<ul>
<li class=""><code>idle-engine:frame</code> (existing): main → renderer, payload <code>RenderCommandBuffer</code></li>
<li class=""><code>idle-engine:frame-ack</code> (new): renderer → main, payload <code>{ step: number }</code> (or empty)</li>
</ul>
</li>
<li class="">Main process behavior:<!-- -->
<ul>
<li class="">Maintain <code>inFlight: boolean</code> and <code>pendingLatest: RenderCommandBuffer | undefined</code>.</li>
<li class="">When a new frame arrives:<!-- -->
<ul>
<li class="">If not in flight: send immediately and set <code>inFlight = true</code>.</li>
<li class="">If in flight: replace <code>pendingLatest</code> with the newest frame (drop older pending frames).</li>
</ul>
</li>
<li class="">On ACK:<!-- -->
<ul>
<li class="">If <code>pendingLatest</code> exists: send it and keep <code>inFlight = true</code>.</li>
<li class="">Else: set <code>inFlight = false</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>This makes “frames delivered” scale with renderer consumption and prevents unbounded in-flight snapshots.</p>
<h3 class="anchor anchorTargetStickyNavbar_pQUT" id="63-operational-considerations">6.3 Operational Considerations<a href="#63-operational-considerations" class="hash-link" aria-label="Direct link to 6.3 Operational Considerations" title="Direct link to 6.3 Operational Considerations" translate="no">​</a></h3>
<ul>
<li class=""><strong>Deployment</strong>: Standard workspace build; no migration scripts. Worker/main/renderer changes ship together in <code>@idle-engine/shell-desktop</code>.</li>
<li class=""><strong>Telemetry &amp; Observability</strong>:<!-- -->
<ul>
<li class="">Dev-only counters in main: <code>framesReceived</code>, <code>framesForwarded</code>, <code>framesDropped</code> (from <code>droppedFrames</code>).</li>
<li class="">Optionally display counters in the renderer debug text output (if desired).</li>
</ul>
</li>
<li class=""><strong>Security &amp; Compliance</strong>: No new external inputs; frame payload remains structured-cloneable data already sent over IPC.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="7-work-breakdown--delivery-plan">7. Work Breakdown &amp; Delivery Plan<a href="#7-work-breakdown--delivery-plan" class="hash-link" aria-label="Direct link to 7. Work Breakdown &amp; Delivery Plan" title="Direct link to 7. Work Breakdown &amp; Delivery Plan" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_pQUT" id="71-issue-map">7.1 Issue Map<a href="#71-issue-map" class="hash-link" aria-label="Direct link to 7.1 Issue Map" title="Direct link to 7.1 Issue Map" translate="no">​</a></h3>
<table><thead><tr><th>Issue Title</th><th>Scope Summary</th><th>Proposed Assignee/Agent</th><th>Dependencies</th><th>Acceptance Criteria</th></tr></thead><tbody><tr><td><code>feat(shell-desktop): coalesce frames forwarded to renderer</code></td><td>Forward only the highest-step frame per worker message; skip empty batches</td><td>Shell Implementation Agent</td><td>None</td><td><code>idle-engine:frame</code> is emitted ≤ 1 time per <code>{ kind:&#x27;frames&#x27; }</code> message; empty batches emit none</td></tr><tr><td><code>feat(shell-desktop): emit latest frame from sim worker</code></td><td>Change worker outbound protocol to <code>{ kind:&#x27;frame&#x27;, frame?, droppedFrames, nextStep }</code></td><td>Shell Implementation Agent</td><td>Coalescing in main (recommended)</td><td>Worker no longer posts frame arrays; <code>droppedFrames</code> is correct; <code>nextStep</code> updates preserved</td></tr><tr><td><code>test(shell-desktop): cover coalescing + empty batch</code></td><td>Update <code>main.test.ts</code> and <code>sim-worker.test.ts</code> for new behavior</td><td>Test Agent</td><td>Implementation merged or mocked</td><td>Tests assert only last frame forwarded; empty batch sends nothing</td></tr><tr><td><code>feat(shell-desktop): optional frame ACK backpressure</code></td><td>Add <code>frame-ack</code> channel + gating if needed</td><td>Shell Implementation Agent</td><td>Profiling data / decision</td><td>Main never has &gt;1 in-flight frame; pending frames coalesce to newest</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_pQUT" id="72-milestones">7.2 Milestones<a href="#72-milestones" class="hash-link" aria-label="Direct link to 7.2 Milestones" title="Direct link to 7.2 Milestones" translate="no">​</a></h3>
<ul>
<li class=""><strong>Phase 1</strong>: Implement main-process coalescing (defense-in-depth) + update tests.</li>
<li class=""><strong>Phase 2</strong>: Switch sim worker to emit latest-frame messages (+ optional sim-runtime allocation reduction) + update tests.</li>
<li class=""><strong>Phase 3 (Optional)</strong>: Add ACK backpressure if IPC backlog is still observable in profiling.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_pQUT" id="73-coordination-notes">7.3 Coordination Notes<a href="#73-coordination-notes" class="hash-link" aria-label="Direct link to 7.3 Coordination Notes" title="Direct link to 7.3 Coordination Notes" translate="no">​</a></h3>
<ul>
<li class=""><strong>Hand-off Package</strong>:<!-- -->
<ul>
<li class="">Worker protocol: <code>packages/shell-desktop/src/sim-worker.ts</code></li>
<li class="">Frame forwarding: <code>packages/shell-desktop/src/main.ts</code></li>
<li class="">Renderer consumption: <code>packages/shell-desktop/src/renderer/index.ts</code></li>
<li class="">IPC contract: <code>packages/shell-desktop/src/ipc.ts</code> / <code>packages/shell-desktop/src/preload.cts</code></li>
<li class="">Tests: <code>packages/shell-desktop/src/main.test.ts</code>, <code>packages/shell-desktop/src/sim-worker.test.ts</code></li>
</ul>
</li>
<li class=""><strong>Communication Cadence</strong>: One review after Phase 1; a second review if ACK backpressure is introduced.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="8-agent-guidance--guardrails">8. Agent Guidance &amp; Guardrails<a href="#8-agent-guidance--guardrails" class="hash-link" aria-label="Direct link to 8. Agent Guidance &amp; Guardrails" title="Direct link to 8. Agent Guidance &amp; Guardrails" translate="no">​</a></h2>
<ul>
<li class=""><strong>Context Packets</strong>:<!-- -->
<ul>
<li class="">Issue 808: <a href="https://github.com/hansjm10/Idle-Game-Engine/issues/808" target="_blank" rel="noopener noreferrer" class="">https://github.com/hansjm10/Idle-Game-Engine/issues/808</a></li>
<li class="">Shell desktop main: <code>packages/shell-desktop/src/main.ts</code></li>
<li class="">Worker: <code>packages/shell-desktop/src/sim-worker.ts</code></li>
</ul>
</li>
<li class=""><strong>Prompting &amp; Constraints</strong>:<!-- -->
<ul>
<li class="">Keep <code>idle-engine:frame</code> payload type as <code>RenderCommandBuffer</code> (no renderer-contract change required).</li>
<li class="">Preserve deterministic stamping for control events (<code>step = nextStep</code>, <code>timestamp = nextStep * stepSizeMs</code>).</li>
<li class="">Preserve type-only imports/exports (<code>import type</code> / <code>export type</code>).</li>
</ul>
</li>
<li class=""><strong>Safety Rails</strong>:<!-- -->
<ul>
<li class="">Do not introduce per-frame console logging on hot paths unless it is dev-only and rate-limited.</li>
<li class="">Do not edit generated <code>dist/**</code> outputs by hand.</li>
<li class="">Ensure coalescing logic never forwards older-step frames over newer-step frames.</li>
</ul>
</li>
<li class=""><strong>Validation Hooks</strong>:<!-- -->
<ul>
<li class=""><code>pnpm test --filter @idle-engine/shell-desktop</code></li>
<li class=""><code>pnpm lint --filter @idle-engine/shell-desktop</code> (if types change)</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="9-alternatives-considered">9. Alternatives Considered<a href="#9-alternatives-considered" class="hash-link" aria-label="Direct link to 9. Alternatives Considered" title="Direct link to 9. Alternatives Considered" translate="no">​</a></h2>
<ul>
<li class=""><strong>Keep forwarding every frame</strong>: Simple but wastes CPU/IPC bandwidth and creates latency spikes under catch-up.</li>
<li class=""><strong>Coalesce only in the renderer</strong>: Renderer already keeps only the latest, but does not reduce main-process IPC traffic or worker-&gt;main structured clone overhead.</li>
<li class=""><strong>Switch sim to render-interpolated frames</strong>: Higher UX quality but requires substantial runtime/renderer changes and is out of scope for issue-808.</li>
<li class=""><strong>Backpressure only (ACK) without coalescing</strong>: Prevents in-flight growth but still sends unnecessary intermediate frames within a tick burst; coalescing first yields the biggest win.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="10-testing--validation-plan">10. Testing &amp; Validation Plan<a href="#10-testing--validation-plan" class="hash-link" aria-label="Direct link to 10. Testing &amp; Validation Plan" title="Direct link to 10. Testing &amp; Validation Plan" translate="no">​</a></h2>
<ul>
<li class=""><strong>Unit / Integration</strong>:<!-- -->
<ul>
<li class="">Update <code>packages/shell-desktop/src/main.test.ts</code> to:<!-- -->
<ul>
<li class="">Emit <code>{ kind: &#x27;frames&#x27;, frames: [A, B], nextStep }</code> from the worker and assert <strong>only</strong> <code>B</code> is forwarded via <code>IPC_CHANNELS.frame</code>.</li>
<li class="">Emit <code>{ kind: &#x27;frames&#x27;, frames: [], nextStep }</code> and assert no <code>IPC_CHANNELS.frame</code> send occurs.</li>
</ul>
</li>
<li class="">Update <code>packages/shell-desktop/src/sim-worker.test.ts</code> to match the worker outbound protocol (either still <code>frames</code> during Phase 1, or <code>frame</code> in Phase 2).</li>
</ul>
</li>
<li class=""><strong>Performance</strong>:<!-- -->
<ul>
<li class="">Manual verification: induce a large <code>deltaMs</code> (e.g., by pausing the process or clamping clock) and confirm renderer receives one frame per tick message and IPC does not spike proportional to <code>maxStepsPerFrame</code>.</li>
</ul>
</li>
<li class=""><strong>Tooling / A11y</strong>: N/A.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="11-risks--mitigations">11. Risks &amp; Mitigations<a href="#11-risks--mitigations" class="hash-link" aria-label="Direct link to 11. Risks &amp; Mitigations" title="Direct link to 11. Risks &amp; Mitigations" translate="no">​</a></h2>
<ul>
<li class=""><strong>Risk</strong>: Some consumer assumes per-step frame delivery and breaks when frames are dropped.<br>
<strong>Mitigation</strong>: Explicitly document <code>idle-engine:frame</code> as latest-snapshot; if per-step capture is needed, add a separate dev-only channel.</li>
<li class=""><strong>Risk</strong>: Main/worker protocol changes cause mismatches during partial updates.<br>
<strong>Mitigation</strong>: Implement defense-in-depth in main to support both <code>{ kind:&#x27;frames&#x27; }</code> and <code>{ kind:&#x27;frame&#x27; }</code> shapes for a short transition window.</li>
<li class=""><strong>Risk</strong>: ACK backpressure introduces deadlocks if ACK is not emitted.<br>
<strong>Mitigation</strong>: Make ACK optional and only gate when enabled; consider a timeout fallback or “send newest after X ms” if ACK is adopted.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="12-rollout-plan">12. Rollout Plan<a href="#12-rollout-plan" class="hash-link" aria-label="Direct link to 12. Rollout Plan" title="Direct link to 12. Rollout Plan" translate="no">​</a></h2>
<ul>
<li class=""><strong>Milestones</strong>:<!-- -->
<ul>
<li class="">Merge Phase 1 coalescing + tests.</li>
<li class="">Merge Phase 2 worker protocol update + tests.</li>
<li class="">Consider Phase 3 ACK backpressure based on profiling.</li>
</ul>
</li>
<li class=""><strong>Migration Strategy</strong>: None (internal protocol within the desktop shell; renderer payload unchanged).</li>
<li class=""><strong>Communication</strong>: Note in the PR description that <code>idle-engine:frame</code> is now a latest-snapshot stream and intermediate sim-step snapshots may be dropped.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="13-open-questions">13. Open Questions<a href="#13-open-questions" class="hash-link" aria-label="Direct link to 13. Open Questions" title="Direct link to 13. Open Questions" translate="no">​</a></h2>
<ul>
<li class="">Do we need ACK backpressure now, or is per-message coalescing sufficient for observed workloads?</li>
<li class="">Should <code>droppedFrames</code> be surfaced to the renderer/UI (debug overlay), or kept as main-process-only diagnostics?</li>
<li class="">Should main enforce a monotonic step guarantee (<code>lastForwardedStep</code>) or rely on message ordering assumptions?</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="14-follow-up-work">14. Follow-Up Work<a href="#14-follow-up-work" class="hash-link" aria-label="Direct link to 14. Follow-Up Work" title="Direct link to 14. Follow-Up Work" translate="no">​</a></h2>
<ul>
<li class="">If later needed, add a separate dev-only “all-steps” frame channel for capture/replay tooling.</li>
<li class="">Explore render interpolation/extrapolation for smoother visuals under catch-up (separate feature).</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="15-references">15. References<a href="#15-references" class="hash-link" aria-label="Direct link to 15. References" title="Direct link to 15. References" translate="no">​</a></h2>
<ul>
<li class="">Issue 808: <a href="https://github.com/hansjm10/Idle-Game-Engine/issues/808" target="_blank" rel="noopener noreferrer" class="">https://github.com/hansjm10/Idle-Game-Engine/issues/808</a></li>
<li class="">Worker emits frames batches: <code>packages/shell-desktop/src/sim-worker.ts:88</code></li>
<li class="">Main forwards each frame today: <code>packages/shell-desktop/src/main.ts:234</code></li>
<li class="">Renderer keeps only latest: <code>packages/shell-desktop/src/renderer/index.ts:64</code></li>
<li class="">IPC channel identifiers: <code>packages/shell-desktop/src/ipc.ts:5</code></li>
<li class="">Existing test that expects multiple forwards (to update): <code>packages/shell-desktop/src/main.test.ts:313</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="appendix-a--glossary">Appendix A — Glossary<a href="#appendix-a--glossary" class="hash-link" aria-label="Direct link to Appendix A — Glossary" title="Direct link to Appendix A — Glossary" translate="no">​</a></h2>
<ul>
<li class=""><strong>RenderCommandBuffer (RCB)</strong>: A render snapshot payload consumed by renderers (<code>@idle-engine/renderer-contract</code>).</li>
<li class=""><strong>Fixed-step sim</strong>: The runtime advances in discrete steps of <code>stepSizeMs</code> rather than variable timesteps.</li>
<li class=""><strong>Catch-up / backlog</strong>: When a large <code>deltaMs</code> requires multiple sim steps to run in a single tick.</li>
<li class=""><strong>Coalescing</strong>: Collapsing multiple intermediate frames into a single “latest” frame for downstream consumers.</li>
<li class=""><strong>Backpressure (ACK)</strong>: A mechanism to bound in-flight work by requiring consumers to acknowledge receipt/processing.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_pQUT" id="appendix-b--change-log">Appendix B — Change Log<a href="#appendix-b--change-log" class="hash-link" aria-label="Direct link to Appendix B — Change Log" title="Direct link to Appendix B — Change Log" translate="no">​</a></h2>
<table><thead><tr><th>Date</th><th>Author</th><th>Change Summary</th></tr></thead><tbody><tr><td>2026-01-23</td><td>Codex (AI)</td><td>Initial draft design doc for Issue 808</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_zkN7"><a href="https://github.com/hansjm10/Idle-Game-Engine/edit/main/docs/../../docs/issue-808-design.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_URLU" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_DCA4"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_7BTH thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#document-control" class="table-of-contents__link toc-highlight">Document Control</a></li><li><a href="#1-summary" class="table-of-contents__link toc-highlight">1. Summary</a></li><li><a href="#2-context--problem-statement" class="table-of-contents__link toc-highlight">2. Context &amp; Problem Statement</a></li><li><a href="#3-goals--non-goals" class="table-of-contents__link toc-highlight">3. Goals &amp; Non-Goals</a></li><li><a href="#4-stakeholders-agents--impacted-surfaces" class="table-of-contents__link toc-highlight">4. Stakeholders, Agents &amp; Impacted Surfaces</a></li><li><a href="#5-current-state" class="table-of-contents__link toc-highlight">5. Current State</a></li><li><a href="#6-proposed-solution" class="table-of-contents__link toc-highlight">6. Proposed Solution</a><ul><li><a href="#61-architecture-overview" class="table-of-contents__link toc-highlight">6.1 Architecture Overview</a></li><li><a href="#62-detailed-design" class="table-of-contents__link toc-highlight">6.2 Detailed Design</a></li><li><a href="#63-operational-considerations" class="table-of-contents__link toc-highlight">6.3 Operational Considerations</a></li></ul></li><li><a href="#7-work-breakdown--delivery-plan" class="table-of-contents__link toc-highlight">7. Work Breakdown &amp; Delivery Plan</a><ul><li><a href="#71-issue-map" class="table-of-contents__link toc-highlight">7.1 Issue Map</a></li><li><a href="#72-milestones" class="table-of-contents__link toc-highlight">7.2 Milestones</a></li><li><a href="#73-coordination-notes" class="table-of-contents__link toc-highlight">7.3 Coordination Notes</a></li></ul></li><li><a href="#8-agent-guidance--guardrails" class="table-of-contents__link toc-highlight">8. Agent Guidance &amp; Guardrails</a></li><li><a href="#9-alternatives-considered" class="table-of-contents__link toc-highlight">9. Alternatives Considered</a></li><li><a href="#10-testing--validation-plan" class="table-of-contents__link toc-highlight">10. Testing &amp; Validation Plan</a></li><li><a href="#11-risks--mitigations" class="table-of-contents__link toc-highlight">11. Risks &amp; Mitigations</a></li><li><a href="#12-rollout-plan" class="table-of-contents__link toc-highlight">12. Rollout Plan</a></li><li><a href="#13-open-questions" class="table-of-contents__link toc-highlight">13. Open Questions</a></li><li><a href="#14-follow-up-work" class="table-of-contents__link toc-highlight">14. Follow-Up Work</a></li><li><a href="#15-references" class="table-of-contents__link toc-highlight">15. References</a></li><li><a href="#appendix-a--glossary" class="table-of-contents__link toc-highlight">Appendix A — Glossary</a></li><li><a href="#appendix-b--change-log" class="table-of-contents__link toc-highlight">Appendix B — Change Log</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Idle-Game-Engine/">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/Idle-Game-Engine/contributor-handbook">Contributor Handbook</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hansjm10/Idle-Game-Engine/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_zgE_"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/hansjm10/Idle-Game-Engine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_zgE_"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Idle Engine.</div></div></div></footer></div>
</body>
</html>