{
  "metadata": {
    "id": "@idle-engine/sample-pack",
    "title": {
      "default": "Sample Content Pack",
      "variants": {}
    },
    "summary": {
      "default": "Reference data for the prototype milestone and automated tests.",
      "variants": {}
    },
    "version": "0.3.0",
    "engine": ">=0.4.0 <1.0.0",
    "authors": ["Idle Engine Team"],
    "defaultLocale": "en-US",
    "supportedLocales": ["en-US"],
    "tags": ["sample", "prototype"],
    "links": [
      {
        "kind": "docs",
        "label": "Content Schema Design",
        "href": "https://github.com/hansjm10/Idle-Game-Engine/blob/main/docs/content-dsl-schema-design.md"
      }
    ]
  },
  "fonts": [
    {
      "id": "sample-pack.ui-font",
      "source": "fonts/ibm-plex-mono/IBMPlexMono-Regular.ttf",
      "baseSizePx": 32,
      "msdf": { "pxRange": 4 }
    }
  ],
  "resources": [
    {
      "id": "sample-pack.energy",
      "name": {
        "default": "Energy",
        "variants": {}
      },
      "category": "primary",
      "economyClassification": "soft",
      "tier": 1,
      "startAmount": 10,
      "capacity": 100,
      "visible": true,
      "unlocked": true,
      "order": 1
    },
    {
      "id": "sample-pack.crystal",
      "name": {
        "default": "Crystal",
        "variants": {}
      },
      "category": "currency",
      "economyClassification": "hard",
      "tier": 1,
      "startAmount": 0,
      "visible": true,
      "unlocked": false,
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.energy",
        "comparator": "gte",
        "amount": {
          "kind": "constant",
          "value": 25
        }
      },
      "order": 2
    },
    {
      "id": "sample-pack.alloy",
      "name": {
        "default": "Alloy",
        "variants": {}
      },
      "category": "primary",
      "economyClassification": "soft",
      "tier": 2,
      "startAmount": 0,
      "capacity": null,
      "visible": false,
      "unlocked": false,
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.crystal",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 50 }
      },
      "order": 3
    },
    {
      "id": "sample-pack.data-core",
      "name": {
        "default": "Data Core",
        "variants": {}
      },
      "category": "primary",
      "economyClassification": "soft",
      "tier": 2,
      "startAmount": 0,
      "capacity": null,
      "visible": false,
      "unlocked": false,
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.alloy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 40 }
      },
      "order": 4
    },
    {
      "id": "sample-pack.prestige-flux",
      "name": {
        "default": "Prestige Flux",
        "variants": {}
      },
      "category": "prestige",
      "economyClassification": "soft",
      "tier": 3,
      "startAmount": 0,
      "capacity": null,
      "visible": false,
      "unlocked": false,
      "unlockCondition": {
        "kind": "prestigeUnlocked",
        "prestigeLayerId": "sample-pack.ascension-alpha"
      },
      "prestige": {
        "layerId": "sample-pack.ascension-alpha",
        "resetRetention": { "kind": "constant", "value": 1 }
      },
      "order": 5
    },
    {
      "id": "sample-pack.ascension-alpha-prestige-count",
      "name": {
        "default": "Ascension Count",
        "variants": {}
      },
      "category": "misc",
      "economyClassification": "soft",
      "tier": 3,
      "startAmount": 0,
      "capacity": null,
      "visible": false,
      "unlocked": true,
      "order": 6
    }
  ],
  "generators": [
    {
      "id": "sample-pack.reactor",
      "name": {
        "default": "Reactor",
        "variants": {}
      },
      "produces": [
        {
          "resourceId": "sample-pack.energy",
          "rate": {
            "kind": "constant",
            "value": 1
          }
        }
      ],
      "consumes": [],
      "purchase": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 10,
        "costCurve": {
          "kind": "exponential",
          "base": 10,
          "growth": 1.15,
          "offset": 0
        },
        "maxBulk": 10
      },
      "maxLevel": 50,
      "baseUnlock": {
        "kind": "always"
      },
      "order": 1
    },
    {
      "id": "sample-pack.harvester",
      "name": {
        "default": "Crystal Harvester",
        "variants": {}
      },
      "produces": [
        {
          "resourceId": "sample-pack.crystal",
          "rate": {
            "kind": "constant",
            "value": 0.25
          }
        }
      ],
      "consumes": [
        {
          "resourceId": "sample-pack.energy",
          "rate": {
            "kind": "constant",
            "value": 0.5
          }
        }
      ],
      "purchase": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 25,
        "costCurve": {
          "kind": "linear",
          "base": 25,
          "slope": 5
        },
        "maxBulk": 5
      },
      "maxLevel": 40,
      "baseUnlock": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.energy",
        "comparator": "gte",
        "amount": {
          "kind": "constant",
          "value": 15
        }
      },
      "order": 2
    },
    {
      "id": "sample-pack.forge",
      "name": {
        "default": "Forge",
        "variants": {}
      },
      "produces": [
        {
          "resourceId": "sample-pack.alloy",
          "rate": { "kind": "constant", "value": 0.2 }
        }
      ],
      "consumes": [
        {
          "resourceId": "sample-pack.energy",
          "rate": { "kind": "constant", "value": 1.5 }
        },
        {
          "resourceId": "sample-pack.crystal",
          "rate": { "kind": "constant", "value": 0.35 }
        }
      ],
      "purchase": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 1,
        "costCurve": {
          "kind": "linear",
          "base": 75,
          "slope": 12
        },
        "maxBulk": 5
      },
      "maxLevel": 35,
      "baseUnlock": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.crystal",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 50 }
      },
      "order": 3
    },
    {
      "id": "sample-pack.lab",
      "name": {
        "default": "Research Lab",
        "variants": {}
      },
      "produces": [
        {
          "resourceId": "sample-pack.data-core",
          "rate": { "kind": "constant", "value": 0.08 }
        }
      ],
      "consumes": [
        {
          "resourceId": "sample-pack.energy",
          "rate": { "kind": "constant", "value": 2.5 }
        },
        {
          "resourceId": "sample-pack.alloy",
          "rate": { "kind": "constant", "value": 0.5 }
        }
      ],
      "purchase": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 120,
        "costCurve": {
          "kind": "exponential",
          "base": 1,
          "growth": 1.12
        },
        "maxBulk": 3
      },
      "maxLevel": 25,
      "baseUnlock": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.alloy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 40 }
      },
      "order": 4
    },
    {
      "id": "sample-pack.gate-reactor",
      "name": {
        "default": "Gate Reactor",
        "variants": {}
      },
      "produces": [
        {
          "resourceId": "sample-pack.prestige-flux",
          "rate": { "kind": "constant", "value": 0.05 }
        }
      ],
      "consumes": [
        {
          "resourceId": "sample-pack.data-core",
          "rate": { "kind": "constant", "value": 2 }
        }
      ],
      "purchase": {
        "currencyId": "sample-pack.data-core",
        "costMultiplier": 500,
        "costCurve": {
          "kind": "exponential",
          "base": 1,
          "growth": 1.08
        },
        "maxBulk": 2
      },
      "maxLevel": 15,
      "baseUnlock": {
        "kind": "allOf",
        "conditions": [
          {
            "kind": "prestigeUnlocked",
            "prestigeLayerId": "sample-pack.ascension-alpha"
          },
          {
            "kind": "resourceThreshold",
            "resourceId": "sample-pack.data-core",
            "comparator": "gte",
            "amount": { "kind": "constant", "value": 200 }
          }
        ]
      },
      "visibilityCondition": {
        "kind": "prestigeUnlocked",
        "prestigeLayerId": "sample-pack.ascension-alpha"
      },
      "order": 5
    }
  ],
  "upgrades": [
    {
      "id": "sample-pack.reactor-insulation",
      "name": { "default": "Reactor Insulation", "variants": {} },
      "description": { "default": "Increases reactor output by 25% through better heat management.", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.reactor" }
      ],
      "cost": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 75,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 1,
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.reactor",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.25 }
        },
        {
          "kind": "emitEvent",
          "eventId": "sample:reactor-primed"
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.energy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 50 }
      },
      "visibilityCondition": { "kind": "always" }
    },
    {
      "id": "sample-pack.reactor-overclock",
      "name": { "default": "Reactor Overclock", "variants": {} },
      "description": { "default": "Pushes reactor beyond safe limits for 50% more energy generation.", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.reactor" }
      ],
      "cost": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 150,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 2,
      "prerequisites": ["sample-pack.reactor-insulation"],
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.reactor",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.5 }
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.energy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 100 }
      },
      "visibilityCondition": { "kind": "always" }
    },
    {
      "id": "sample-pack.reactor-phase-cooling",
      "name": { "default": "Reactor Phase Cooling", "variants": {} },
      "description": { "default": "Advanced cooling technology allows for 75% increased reactor efficiency.", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.reactor" }
      ],
      "cost": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 400,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 3,
      "prerequisites": ["sample-pack.reactor-overclock"],
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.reactor",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.75 }
        }
      ],
      "unlockCondition": {
        "kind": "generatorLevel",
        "generatorId": "sample-pack.reactor",
        "comparator": "gte",
        "level": { "kind": "constant", "value": 5 }
      },
      "visibilityCondition": { "kind": "always" }
    },
    {
      "id": "sample-pack.harvester-efficiency",
      "name": { "default": "Harvester Efficiency", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.harvester" }
      ],
      "cost": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 125,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 4,
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.harvester",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.5 }
        }
      ],
      "unlockCondition": {
        "kind": "generatorLevel",
        "generatorId": "sample-pack.harvester",
        "comparator": "gte",
        "level": { "kind": "constant", "value": 1 }
      },
      "visibilityCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.crystal",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 20 }
      }
    },
    {
      "id": "sample-pack.harvester-deep-core",
      "name": { "default": "Harvester Deep Core", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.harvester" }
      ],
      "cost": {
        "currencyId": "sample-pack.crystal",
        "costMultiplier": 200,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 5,
      "prerequisites": ["sample-pack.harvester-efficiency"],
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.harvester",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.5 }
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.crystal",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 150 }
      },
      "visibilityCondition": { "kind": "always" }
    },
    {
      "id": "sample-pack.harvester-quantum-sieve",
      "name": { "default": "Harvester Quantum Sieve", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.harvester" }
      ],
      "cost": {
        "currencyId": "sample-pack.crystal",
        "costMultiplier": 250,
        "costCurve": { "kind": "constant", "value": 1 },
        "maxBulk": 2
      },
      "repeatable": {
        "maxPurchases": 5,
        "costCurve": { "kind": "linear", "base": 1, "slope": 0.25 }
      },
      "order": 6,
      "prerequisites": ["sample-pack.harvester-deep-core"],
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.harvester",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.15 }
        }
      ],
      "unlockCondition": {
        "kind": "allOf",
        "conditions": [
          {
            "kind": "resourceThreshold",
            "resourceId": "sample-pack.crystal",
            "comparator": "gte",
            "amount": { "kind": "constant", "value": 200 }
          },
          {
            "kind": "generatorLevel",
            "generatorId": "sample-pack.harvester",
            "comparator": "gte",
            "level": { "kind": "constant", "value": 3 }
          }
        ]
      }
    },
    {
      "id": "sample-pack.forge-heat-shield",
      "name": { "default": "Forge Heat Shield", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.forge" }
      ],
      "cost": {
        "currencyId": "sample-pack.energy",
        "costMultiplier": 320,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 7,
      "effects": [
        {
          "kind": "modifyGeneratorCost",
          "generatorId": "sample-pack.forge",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 0.9 }
        }
      ],
      "unlockCondition": {
        "kind": "generatorLevel",
        "generatorId": "sample-pack.forge",
        "comparator": "gte",
        "level": { "kind": "constant", "value": 1 }
      }
    },
    {
      "id": "sample-pack.forge-auto-feed",
      "name": { "default": "Forge Auto-Feed", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.forge" }
      ],
      "cost": {
        "currencyId": "sample-pack.alloy",
        "costMultiplier": 180,
        "costCurve": { "kind": "linear", "base": 1, "slope": 0.15 }
      },
      "order": 8,
      "prerequisites": ["sample-pack.forge-heat-shield"],
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.forge",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.3 }
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.alloy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 30 }
      }
    },
    {
      "id": "sample-pack.lab-insight-boost",
      "name": { "default": "Lab Insight Boost", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.lab" }
      ],
      "cost": {
        "currencyId": "sample-pack.alloy",
        "costMultiplier": 220,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 9,
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.lab",
          "operation": "multiply",
          "value": { "kind": "constant", "value": 1.4 }
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.alloy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 40 }
      }
    },
    {
      "id": "sample-pack.lab-simulation-stack",
      "name": { "default": "Lab Simulation Stack", "variants": {} },
      "category": "generator",
      "targets": [
        { "kind": "generator", "id": "sample-pack.lab" }
      ],
      "cost": {
        "currencyId": "sample-pack.prestige-flux",
        "costMultiplier": 1,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "repeatable": {
        "maxPurchases": 10,
        "costCurve": { "kind": "exponential", "base": 1, "growth": 1.1 }
      },
      "order": 10,
      "prerequisites": ["sample-pack.lab-insight-boost"],
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.lab",
          "operation": "multiply",
          "value": {
            "kind": "expression",
            "expression": {
              "kind": "binary",
              "op": "add",
              "left": { "kind": "literal", "value": 1.05 },
              "right": {
                "kind": "binary",
                "op": "mul",
                "left": { "kind": "literal", "value": 0.02 },
                "right": {
                  "kind": "ref",
                  "target": { "type": "variable", "name": "level" }
                }
              }
            }
          }
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.prestige-flux",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 1 }
      }
    },
    {
      "id": "sample-pack.ascension-surge",
      "name": { "default": "Ascension Surge", "variants": {} },
      "category": "prestige",
      "targets": [
        { "kind": "global" }
      ],
      "cost": {
        "currencyId": "sample-pack.prestige-flux",
        "costMultiplier": 0,
        "costCurve": { "kind": "constant", "value": 1 }
      },
      "order": 11,
      "effects": [
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.reactor",
          "operation": "multiply",
          "value": {
            "kind": "expression",
            "expression": {
              "kind": "binary",
              "op": "add",
              "left": { "kind": "literal", "value": 1 },
              "right": {
                "kind": "binary",
                "op": "mul",
                "left": { "kind": "literal", "value": 0.01 },
                "right": {
                  "kind": "ref",
                  "target": { "type": "resource", "id": "sample-pack.prestige-flux" }
                }
              }
            }
          }
        },
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.harvester",
          "operation": "multiply",
          "value": {
            "kind": "expression",
            "expression": {
              "kind": "binary",
              "op": "add",
              "left": { "kind": "literal", "value": 1 },
              "right": {
                "kind": "binary",
                "op": "mul",
                "left": { "kind": "literal", "value": 0.01 },
                "right": {
                  "kind": "ref",
                  "target": { "type": "resource", "id": "sample-pack.prestige-flux" }
                }
              }
            }
          }
        },
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.forge",
          "operation": "multiply",
          "value": {
            "kind": "expression",
            "expression": {
              "kind": "binary",
              "op": "add",
              "left": { "kind": "literal", "value": 1 },
              "right": {
                "kind": "binary",
                "op": "mul",
                "left": { "kind": "literal", "value": 0.01 },
                "right": {
                  "kind": "ref",
                  "target": { "type": "resource", "id": "sample-pack.prestige-flux" }
                }
              }
            }
          }
        },
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.lab",
          "operation": "multiply",
          "value": {
            "kind": "expression",
            "expression": {
              "kind": "binary",
              "op": "add",
              "left": { "kind": "literal", "value": 1 },
              "right": {
                "kind": "binary",
                "op": "mul",
                "left": { "kind": "literal", "value": 0.01 },
                "right": {
                  "kind": "ref",
                  "target": { "type": "resource", "id": "sample-pack.prestige-flux" }
                }
              }
            }
          }
        },
        {
          "kind": "modifyGeneratorRate",
          "generatorId": "sample-pack.gate-reactor",
          "operation": "multiply",
          "value": {
            "kind": "expression",
            "expression": {
              "kind": "binary",
              "op": "add",
              "left": { "kind": "literal", "value": 1 },
              "right": {
                "kind": "binary",
                "op": "mul",
                "left": { "kind": "literal", "value": 0.01 },
                "right": {
                  "kind": "ref",
                  "target": { "type": "resource", "id": "sample-pack.prestige-flux" }
                }
              }
            }
          }
        }
      ],
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.prestige-flux",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 1 }
      },
      "visibilityCondition": {
        "kind": "prestigeUnlocked",
        "prestigeLayerId": "sample-pack.ascension-alpha"
      }
    }
  ],
  "metrics": [
    {
      "id": "sample-pack.energy-produced",
      "name": {
        "default": "Total Energy Produced",
        "variants": {}
      },
      "description": {
        "default": "Cumulative energy yield tracked across all runs.",
        "variants": {}
      },
      "kind": "counter",
      "unit": "units",
      "source": {
        "kind": "runtime"
      }
    }
  ],
  "achievements": [
    {
      "id": "sample-pack.first-energy",
      "name": {
        "default": "First Spark",
        "variants": {}
      },
      "description": {
        "default": "Generate one unit of energy.",
        "variants": {}
      },
      "category": "progression",
      "tier": "bronze",
      "track": {
        "kind": "resource",
        "resourceId": "sample-pack.energy",
        "threshold": {
          "kind": "constant",
          "value": 1
        },
        "comparator": "gte"
      },
      "progress": {
        "mode": "oneShot"
      }
    }
  ],
  "automations": [
    {
      "id": "sample-pack.auto-reactor",
      "name": {
        "default": "Reactor Auto-Clicker",
        "variants": {}
      },
      "description": {
        "default": "Automatically enables the reactor every 5 seconds",
        "variants": {}
      },
      "targetType": "generator",
      "targetId": "sample-pack.reactor",
      "trigger": {
        "kind": "interval",
        "interval": { "kind": "constant", "value": 5000 }
      },
      "unlockCondition": { "kind": "always" },
      "enabledByDefault": true,
      "order": 1
    },
    {
      "id": "sample-pack.auto-harvester-on-energy",
      "name": {
        "default": "Smart Harvester Enabler",
        "variants": {}
      },
      "description": {
        "default": "Enables crystal harvester when you reach 50 energy",
        "variants": {}
      },
      "targetType": "generator",
      "targetId": "sample-pack.harvester",
      "trigger": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.energy",
        "comparator": "gte",
        "threshold": { "kind": "constant", "value": 50 }
      },
      "cooldown": 5000,
      "unlockCondition": { "kind": "always" },
      "enabledByDefault": false,
      "order": 2
    },
    {
      "id": "sample-pack.idle-collector",
      "name": {
        "default": "Idle Resource Collector",
        "variants": {}
      },
      "description": {
        "default": "Collects resources when no other actions are pending",
        "variants": {}
      },
      "targetType": "generator",
      "targetId": "sample-pack.reactor",
      "trigger": {
        "kind": "commandQueueEmpty"
      },
      "cooldown": 10000,
      "unlockCondition": { "kind": "always" },
      "enabledByDefault": true,
      "order": 3
    },
    {
      "id": "sample-pack.auto-harvester-on-primed",
      "name": {
        "default": "Auto-Harvest on Reactor Prime",
        "variants": {}
      },
      "description": {
        "default": "Enables crystal harvester when reactor is primed",
        "variants": {}
      },
      "targetType": "generator",
      "targetId": "sample-pack.harvester",
      "trigger": {
        "kind": "event",
        "eventId": "sample:reactor-primed"
      },
      "unlockCondition": { "kind": "always" },
      "enabledByDefault": false,
      "order": 4
    },
    {
      "id": "sample-pack.auto-reactor-burst",
      "name": { "default": "Reactor Burst (Costed)", "variants": {} },
      "description": {
        "default": "Enables the reactor periodically",
        "variants": {}
      },
      "targetType": "generator",
      "targetId": "sample-pack.reactor",
      "trigger": {
        "kind": "interval",
        "interval": { "kind": "constant", "value": 2000 }
      },
      "resourceCost": {
        "resourceId": "sample-pack.energy",
        "rate": { "kind": "constant", "value": 2 }
      },
      "unlockCondition": { "kind": "always" },
      "enabledByDefault": false,
      "order": 6
    },
    {
      "id": "sample-pack.autobuy-reactor-insulation",
      "name": { "default": "Auto-Buy Reactor Insulation", "variants": {} },
      "description": {
        "default": "Attempts to buy Reactor Insulation every 8 seconds",
        "variants": {}
      },
      "targetType": "upgrade",
      "targetId": "sample-pack.reactor-insulation",
      "trigger": {
        "kind": "interval",
        "interval": { "kind": "constant", "value": 8000 }
      },
      "resourceCost": {
        "resourceId": "sample-pack.energy",
        "rate": { "kind": "constant", "value": 1 }
      },
      "cooldown": 0,
      "unlockCondition": { "kind": "always" },
      "enabledByDefault": false,
      "order": 8
    }
  ],
  "transforms": [
    {
      "id": "sample-pack.refine-crystal",
      "name": { "default": "Refine Crystal", "variants": {} },
      "description": {
        "default": "Condense energy into crystallized shards.",
        "variants": {}
      },
      "mode": "instant",
      "inputs": [
        {
          "resourceId": "sample-pack.energy",
          "amount": { "kind": "constant", "value": 20 }
        }
      ],
      "outputs": [
        {
          "resourceId": "sample-pack.crystal",
          "amount": { "kind": "constant", "value": 1 }
        }
      ],
      "cooldown": { "kind": "constant", "value": 5000 },
      "trigger": { "kind": "manual" },
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.energy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 25 }
      },
      "order": 1
    },
    {
      "id": "sample-pack.primed-alloy",
      "name": { "default": "Primed Alloy", "variants": {} },
      "description": {
        "default": "Fuse energy and crystals into alloy when the reactor primes.",
        "variants": {}
      },
      "mode": "instant",
      "inputs": [
        {
          "resourceId": "sample-pack.energy",
          "amount": { "kind": "constant", "value": 15 }
        },
        {
          "resourceId": "sample-pack.crystal",
          "amount": { "kind": "constant", "value": 5 }
        }
      ],
      "outputs": [
        {
          "resourceId": "sample-pack.alloy",
          "amount": { "kind": "constant", "value": 1 }
        }
      ],
      "cooldown": { "kind": "constant", "value": 10000 },
      "trigger": {
        "kind": "event",
        "eventId": "sample:reactor-primed"
      },
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.crystal",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 50 }
      },
      "order": 2
    },
    {
      "id": "sample-pack.batch-data-core",
      "name": { "default": "Batch Data Core", "variants": {} },
      "description": {
        "default": "Smelt alloy into data cores over time.",
        "variants": {}
      },
      "mode": "batch",
      "duration": { "kind": "constant", "value": 30000 },
      "inputs": [
        {
          "resourceId": "sample-pack.alloy",
          "amount": { "kind": "constant", "value": 2 }
        },
        {
          "resourceId": "sample-pack.energy",
          "amount": { "kind": "constant", "value": 40 }
        }
      ],
      "outputs": [
        {
          "resourceId": "sample-pack.data-core",
          "amount": { "kind": "constant", "value": 1 }
        }
      ],
      "trigger": { "kind": "manual" },
      "safety": { "maxOutstandingBatches": 5 },
      "unlockCondition": {
        "kind": "resourceThreshold",
        "resourceId": "sample-pack.alloy",
        "comparator": "gte",
        "amount": { "kind": "constant", "value": 40 }
      },
      "order": 3
    }
  ],
  "prestigeLayers": [
    {
      "id": "sample-pack.ascension-alpha",
      "name": {
        "default": "Ascension Alpha",
        "variants": {}
      },
      "summary": {
        "default": "Reset generators and upgrades for long-term flux; unlock once your reactor hums at level 10 and data cores reach 500.",
        "variants": {}
      },
      "resetTargets": [
        "sample-pack.energy",
        "sample-pack.crystal",
        "sample-pack.alloy",
        "sample-pack.data-core"
      ],
      "unlockCondition": {
        "kind": "allOf",
        "conditions": [
          {
            "kind": "resourceThreshold",
            "resourceId": "sample-pack.data-core",
            "comparator": "gte",
            "amount": { "kind": "constant", "value": 500 }
          },
          {
            "kind": "generatorLevel",
            "generatorId": "sample-pack.reactor",
            "comparator": "gte",
            "level": { "kind": "constant", "value": 10 }
          }
        ]
      },
      "reward": {
        "resourceId": "sample-pack.prestige-flux",
        "baseReward": {
          "kind": "expression",
          "expression": {
            "kind": "call",
            "name": "clamp",
            "args": [
              {
                "kind": "unary",
                "op": "floor",
                "operand": {
                  "kind": "binary",
                  "op": "div",
                  "left": {
                    "kind": "binary",
                    "op": "add",
                    "left": {
                      "kind": "binary",
                      "op": "add",
                      "left": { "kind": "ref", "target": { "type": "resource", "id": "sample-pack.energy" } },
                      "right": { "kind": "ref", "target": { "type": "resource", "id": "sample-pack.crystal" } }
                    },
                    "right": {
                      "kind": "binary",
                      "op": "mul",
                      "left": { "kind": "literal", "value": 2 },
                      "right": { "kind": "ref", "target": { "type": "resource", "id": "sample-pack.data-core" } }
                    }
                  },
                  "right": { "kind": "literal", "value": 750 }
                }
              },
              { "kind": "literal", "value": 1 },
              { "kind": "literal", "value": 5000 }
            ]
          }
        }
      },
      "retention": [
        {
          "kind": "resource",
          "resourceId": "sample-pack.prestige-flux",
          "amount": { "kind": "constant", "value": 1 }
        }
      ],
      "order": 1
    }
  ]
}
