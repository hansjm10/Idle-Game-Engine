"use strict";(globalThis.webpackChunk_idle_engine_docs=globalThis.webpackChunk_idle_engine_docs||[]).push([[9107],{6506:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"property-based-formula-sanitization-design","title":"Expand Property-Based Formula Sanitization Coverage","description":"Document Control","source":"@site/../../docs/property-based-formula-sanitization-design.md","sourceDirName":".","slug":"/property-based-formula-sanitization-design","permalink":"/Idle-Game-Engine/property-based-formula-sanitization-design","draft":false,"unlisted":false,"editUrl":"https://github.com/hansjm10/Idle-Game-Engine/edit/main/docs/../../docs/property-based-formula-sanitization-design.md","tags":[],"version":"current","frontMatter":{}}');var t=s(5270),r=s(7678);const a={},l="Expand Property-Based Formula Sanitization Coverage",o={},d=[{value:"Document Control",id:"document-control",level:2},{value:"1. Summary",id:"1-summary",level:2},{value:"2. Context &amp; Problem Statement",id:"2-context--problem-statement",level:2},{value:"3. Goals &amp; Non-Goals",id:"3-goals--non-goals",level:2},{value:"4. Stakeholders, Agents &amp; Impacted Surfaces",id:"4-stakeholders-agents--impacted-surfaces",level:2},{value:"5. Current State",id:"5-current-state",level:2},{value:"6. Proposed Solution",id:"6-proposed-solution",level:2},{value:"6.1 Architecture Overview",id:"61-architecture-overview",level:3},{value:"6.2 Detailed Design",id:"62-detailed-design",level:3},{value:"6.3 Operational Considerations",id:"63-operational-considerations",level:3},{value:"7. Work Breakdown &amp; Delivery Plan",id:"7-work-breakdown--delivery-plan",level:2},{value:"7.1 Issue Map",id:"71-issue-map",level:3},{value:"7.2 Milestones",id:"72-milestones",level:3},{value:"7.3 Coordination Notes",id:"73-coordination-notes",level:3},{value:"8. Agent Guidance &amp; Guardrails",id:"8-agent-guidance--guardrails",level:2},{value:"9. Alternatives Considered",id:"9-alternatives-considered",level:2},{value:"10. Testing &amp; Validation Plan",id:"10-testing--validation-plan",level:2},{value:"11. Risks &amp; Mitigations",id:"11-risks--mitigations",level:2},{value:"12. Rollout Plan",id:"12-rollout-plan",level:2},{value:"13. Open Questions",id:"13-open-questions",level:2},{value:"14. Follow-Up Work",id:"14-follow-up-work",level:2},{value:"15. References",id:"15-references",level:2},{value:"Appendix A \u2014 Glossary",id:"appendix-a--glossary",level:2},{value:"Appendix B \u2014 Change Log",id:"appendix-b--change-log",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"expand-property-based-formula-sanitization-coverage",children:"Expand Property-Based Formula Sanitization Coverage"})}),"\n",(0,t.jsx)(n.h2,{id:"document-control",children:"Document Control"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Title"}),": Establish AI-led property-based tests for formula sanitization"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authors"}),": Idle Engine Design Authoring Agent (Content Quality Pod)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reviewers"}),": TODO \u2014 Content Pipeline Maintainers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Status"}),": Draft"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Last Updated"}),": 2025-10-23"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Related Issues"}),": ",(0,t.jsx)(n.a,{href:"https://github.com/hansjm10/Idle-Game-Engine/issues/14",children:"Issue #14"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execution Mode"}),": AI-led"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"1-summary",children:"1. Summary"}),"\n",(0,t.jsxs)(n.p,{children:["This design fulfils GitHub Issue #14 by extending property-based formula sanitization for the Idle Engine content pipeline, grounding each decision in ",(0,t.jsx)(n.code,{children:"docs/idle-engine-design.md"})," and reinforcing deterministic behaviour guaranteed by ",(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.ts:1"}),". The proposal equips AI agents with richer fast-check arbitraries, cross-package invariants, and CI gating so that all numeric formulas authored for Idle Engine remain finite, monotonic where required, and non-negative for protected outputs."]}),"\n",(0,t.jsx)(n.h2,{id:"2-context--problem-statement",children:"2. Context & Problem Statement"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Background"}),": The Idle Engine runtime depends on declarative numeric formulas to model progression (",(0,t.jsx)(n.code,{children:"docs/idle-engine-design.md"})," \xa76.2). Core schema validation occurs in ",(0,t.jsx)(n.code,{children:"numericFormulaSchema"})," (",(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.ts:38"}),"), and existing property-based checks focus on narrow cases (",(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.test.ts:151"}),"). Implementation Plan Section 4 flagged property-based tests as outstanding (",(0,t.jsx)(n.code,{children:"docs/implementation-plan.md:100"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Current fast-check suites cover only single-formula families and run solely within ",(0,t.jsx)(n.code,{children:"content-schema"}),", leaving expression references, cross-module invariants, and CLI sanitization paths unverified. This gap risks accepting formulas that yield negative totals, overflow, or illegal references during content ingestion."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Forces"}),": Constraints include deterministic Vitest execution, low-noise reporters for downstream AI agents, and the requirement to align with the Content Pipeline roadmap (",(0,t.jsx)(n.code,{children:"docs/content-schema-rollout-decisions.md:298"}),"). Tests must complete within CI budgets and remain reproducible."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"3-goals--non-goals",children:"3. Goals & Non-Goals"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Goals"}),":","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Generate comprehensive fast-check arbitraries that exercise every ",(0,t.jsx)(n.code,{children:"NumericFormula"})," variant and nested expression depth."]}),"\n",(0,t.jsx)(n.li,{children:"Enforce cross-surface invariants (finite outputs, monotonic constraints, sanitized entity references) across schema, CLI, and sample content packs."}),"\n",(0,t.jsx)(n.li,{children:"Provide CI-enforced test suites and documentation so AI agents can autonomously extend coverage without regressions."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Non-Goals"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Modify runtime formula evaluation semantics in ",(0,t.jsx)(n.code,{children:"packages/core"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Implement new content author tooling UI; scope is limited to automated tests and documentation."}),"\n",(0,t.jsx)(n.li,{children:"Replace existing deterministic unit tests; property-based suites augment them."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"4-stakeholders-agents--impacted-surfaces",children:"4. Stakeholders, Agents & Impacted Surfaces"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Primary Stakeholders"}),": Content Pipeline Maintainers, QA & Reliability, Idle Engine Runtime Owners."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent Roles"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Formula Property Test Agent \u2014 authors and maintains fast-check suites."}),"\n",(0,t.jsx)(n.li,{children:"CLI Integration Agent \u2014 ensures validation CLI invokes sanitization harness."}),"\n",(0,t.jsx)(n.li,{children:"Documentation Agent \u2014 updates authoring guidance."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Affected Packages/Services"}),": ",(0,t.jsx)(n.code,{children:"packages/content-schema"}),", ",(0,t.jsx)(n.code,{children:"packages/content-validation-cli"}),", ",(0,t.jsx)(n.code,{children:"packages/content-sample"}),", CI workflows under ",(0,t.jsx)(n.code,{children:".github/"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Compatibility Considerations"}),": No backward-incompatible schema changes; tests must pass with existing content packs and keep deterministic outputs for replayable simulations."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"5-current-state",children:"5. Current State"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"numericFormulaSchema"})," enforces structural limits and depth caps (",(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.ts:135"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Property-based tests exist but target only exponential, linear, polynomial, piecewise, and constant formulas in isolation (",(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.test.ts:151"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"CLI and downstream packs rely on schema validation without probabilistic fuzzing, leaving sanitization coverage incomplete."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"6-proposed-solution",children:"6. Proposed Solution"}),"\n",(0,t.jsx)(n.h3,{id:"61-architecture-overview",children:"6.1 Architecture Overview"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Narrative"}),": Introduce a shared fast-check arbitrary library that composes schema-constrained formula generators, run them through deterministic evaluators, and assert sanitization invariants across schema, CLI, and sample packs."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Diagram"}),": TODO \u2014 Formula Sanitization Flow (Owner: Formula Property Test Agent)."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"62-detailed-design",children:"6.2 Detailed Design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Runtime Changes"}),": None; reuse existing evaluation helpers under ",(0,t.jsx)(n.code,{children:"packages/content-schema"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data & Schemas"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Add ",(0,t.jsx)(n.code,{children:"createFormulaArbitrary"})," utilities exporting sanitized generators with depth caps and reference pools."]}),"\n",(0,t.jsx)(n.li,{children:"Extend piecewise validation tests to randomize boundary ordering and ensure catch-all compliance."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"APIs & Contracts"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Expose evaluators via ",(0,t.jsx)(n.code,{children:"packages/content-schema"})," test helpers for reuse in CLI tests."]}),"\n",(0,t.jsx)(n.li,{children:"Provide typed helper to run formulas against synthetic resource states to verify non-negativity."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tooling & Automation"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Add Vitest suite ",(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.property.test.ts"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Wire CLI command ",(0,t.jsx)(n.code,{children:"pnpm --filter content-validation-cli test"})," to import shared arbitraries."]}),"\n",(0,t.jsxs)(n.li,{children:["Configure CI matrix entry executing property suites with ",(0,t.jsx)(n.code,{children:"VITEST_MAX_THREADS=1"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"63-operational-considerations",children:"6.3 Operational Considerations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Deployment"}),": Update ",(0,t.jsx)(n.code,{children:".github/workflows/ci.yml"})," to add property-test job gating merges."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Telemetry & Observability"}),": Capture Vitest JSON reporter output for property suites; no additional runtime telemetry required."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security & Compliance"}),": Ensure generated references respect content ID format, preventing path traversal or PII in test fixtures."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"7-work-breakdown--delivery-plan",children:"7. Work Breakdown & Delivery Plan"}),"\n",(0,t.jsx)(n.h3,{id:"71-issue-map",children:"7.1 Issue Map"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Issue Title"}),(0,t.jsx)(n.th,{children:"Scope Summary"}),(0,t.jsx)(n.th,{children:"Proposed Assignee/Agent"}),(0,t.jsx)(n.th,{children:"Dependencies"}),(0,t.jsx)(n.th,{children:"Acceptance Criteria"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"test(content-schema): add shared numeric formula arbitraries"}),(0,t.jsx)(n.td,{children:"Build fast-check generators + invariants for schema layer"}),(0,t.jsx)(n.td,{children:"Formula Property Test Agent"}),(0,t.jsx)(n.td,{children:"Issue #14"}),(0,t.jsx)(n.td,{children:"All formula variants covered; tests deterministic across runs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"test(content-validation-cli): enforce sanitization via property suites"}),(0,t.jsx)(n.td,{children:"Reuse arbitraries in CLI validation path and assert outputs"}),(0,t.jsx)(n.td,{children:"CLI Integration Agent"}),(0,t.jsx)(n.td,{children:"test(content-schema)"}),(0,t.jsx)(n.td,{children:"CLI tests fail on unsanitized formulas; CI job green"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"docs(content): document formula sanitization guidelines"}),(0,t.jsx)(n.td,{children:"Update author handbook with invariants + troubleshooting"}),(0,t.jsx)(n.td,{children:"Documentation Agent"}),(0,t.jsx)(n.td,{children:"test(content-schema)"}),(0,t.jsxs)(n.td,{children:["Guidance published under ",(0,t.jsx)(n.code,{children:"docs/content-schema-rollout-decisions.md"}),"; references updated"]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"72-milestones",children:"7.2 Milestones"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Phase 1"}),": Generator library + schema suite (1 sprint) \u2014 deliver shared arbitraries and schema-focused properties."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Phase 2"}),": CLI integration + documentation (1 sprint) \u2014 wire into validation tooling, update docs, finalize CI gating."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"73-coordination-notes",children:"7.3 Coordination Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hand-off Package"}),": Provide agents with formula AST examples, current tests, and ",(0,t.jsx)(n.code,{children:"pnpm"})," scripts."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Communication Cadence"}),": Async daily updates via project board comment; design review checkpoint after Phase 1; escalation to Content Pipeline Maintainers for schema adjustments."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"8-agent-guidance--guardrails",children:"8. Agent Guidance & Guardrails"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context Packets"}),": Load ",(0,t.jsx)(n.code,{children:"docs/idle-engine-design.md"}),", ",(0,t.jsx)(n.code,{children:"docs/content-schema-rollout-decisions.md"}),", and relevant test files before execution."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prompting & Constraints"}),": Agents must follow Conventional Commits, keep Vitest reporter JSON intact, and avoid modifying ",(0,t.jsx)(n.code,{children:"dist/"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Safety Rails"}),": Do not alter runtime logic or relax schema limits; avoid non-deterministic randomness."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation Hooks"}),": Run ",(0,t.jsx)(n.code,{children:"pnpm test --filter content-schema"})," and ",(0,t.jsx)(n.code,{children:"pnpm --filter content-validation-cli test"}),"; verify Vitest JSON event is preserved."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"9-alternatives-considered",children:"9. Alternatives Considered"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Snapshot-based formula fixtures: Rejected due to maintenance burden and poor coverage of edge cases."}),"\n",(0,t.jsx)(n.li,{children:"Static lint rules: Insufficient for runtime-dependent invariants like monotonic growth."}),"\n",(0,t.jsx)(n.li,{children:"Manual QA scripts: Non-repeatable and misaligned with AI-led automation."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"10-testing--validation-plan",children:"10. Testing & Validation Plan"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Unit / Integration"}),": New Vitest property suites in ",(0,t.jsx)(n.code,{children:"packages/content-schema"})," and ",(0,t.jsx)(n.code,{children:"packages/content-validation-cli"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance"}),": Monitor test runtime; property suites must finish under 60 seconds per job."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tooling / A11y"}),": No UI changes; ensure ",(0,t.jsx)(n.code,{children:"vitest-llm-reporter"})," output remains valid JSON."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"11-risks--mitigations",children:"11. Risks & Mitigations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Flaky randomness \u2192 Mitigate by seeding fast-check and bounding runs."}),"\n",(0,t.jsx)(n.li,{children:"Overly strict invariants rejecting valid formulas \u2192 Collaborate with maintainers, add configurability for monotonic checks."}),"\n",(0,t.jsx)(n.li,{children:"CI runtime increase \u2192 Parallelize across workers and limit sample counts while maintaining coverage."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"12-rollout-plan",children:"12. Rollout Plan"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Milestones"}),": Phase 1 (schema suite) and Phase 2 (CLI + docs) with explicit sign-off."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Migration Strategy"}),": Introduce tests as optional warnings, then escalate to required gating once stable."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Communication"}),": Announce in Content Pipeline stand-up and update runbooks."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"13-open-questions",children:"13. Open Questions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"TODO \u2014 Who owns long-term maintenance of shared arbitraries? (Owner: Content Pipeline Maintainers)"}),"\n",(0,t.jsx)(n.li,{children:"TODO \u2014 Should sanitization enforce domain-specific monotonicity for prestige layers? (Owner: Game Design Lead)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"14-follow-up-work",children:"14. Follow-Up Work"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Extend property-based checks to runtime evaluation benchmarks (Owner: Runtime Implementation Agent, Timing: Post-Phase 2)."}),"\n",(0,t.jsx)(n.li,{children:"Investigate leveraging WebAssembly fuzzers for future formula optimizations (Owner: Research Agent, Timing: Backlog)."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"15-references",children:"15. References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"docs/idle-engine-design.md"})," \xa71"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"docs/implementation-plan.md:100"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"docs/content-schema-rollout-decisions.md:298"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.ts:38"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/formulas.test.ts:151"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"packages/content-schema/src/base/numbers.ts:21"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"appendix-a--glossary",children:"Appendix A \u2014 Glossary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NumericFormula"}),": Schema-defined structure describing resource progression."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sanitization"}),": Validation ensuring formulas remain finite, monotonic, and safe to evaluate."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"fast-check"}),": Property-based testing library used to generate randomized inputs."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Vitest"}),": Testing framework producing deterministic results required by CI."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"appendix-b--change-log",children:"Appendix B \u2014 Change Log"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Date"}),(0,t.jsx)(n.th,{children:"Author"}),(0,t.jsx)(n.th,{children:"Change Summary"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2025-10-23"}),(0,t.jsx)(n.td,{children:"Idle Engine Design Authoring Agent"}),(0,t.jsx)(n.td,{children:"Initial draft addressing Issue #14"})]})})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},7678:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(9430);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);